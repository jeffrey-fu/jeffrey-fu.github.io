{"meta":{"title":"jeffrey's blog","subtitle":null,"description":null,"author":"Jeffrey Fu","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"Javaé›¶åŸºç¡€å­¦ä¹ ç¬”è®°","slug":"Javaé›¶åŸºç¡€å­¦ä¹ ç¬”è®°","date":"2021-03-04T12:24:29.000Z","updated":"2021-03-07T17:03:56.813Z","comments":true,"path":"2021/03/04/Javaé›¶åŸºç¡€å­¦ä¹ ç¬”è®°/","link":"","permalink":"http://yoursite.com/2021/03/04/Javaé›¶åŸºç¡€å­¦ä¹ ç¬”è®°/","excerpt":"","text":"å›¾ç‰‡æ¥è‡ªç½‘ç»œ è¾¹å­¦è¾¹è®°é‡ç‚¹ï¼šé˜¿é‡Œäº‘å¤§å­¦Javaå­¦ä¹ è·¯çº¿åœ¨çº¿è°ƒè¯•å·¥å…·ï¼šonline_java_debugger Javaç¼–ç¨‹å…¥é—¨ ä¸€ä¸ª.classæ–‡ä»¶å¯¹åº”ä¸€ä¸ªç±» intå‹æ•°æ®èŒƒå›´ (-2147483648 ~ 2147483647) 1int num = Integer.MAX_VALUE + 2L // -2147483647 charç±»å‹ç”¨&#39;&#39;ï¼ŒStringç±»å‹ç”¨&quot;&quot; Javaé¢å‘å¯¹è±¡ç¼–ç¨‹ å¦‚ä½•æ­£ç¡®å£°æ˜ä¸€ä¸ªç±»å¹¶è¿›è¡Œå®ä¾‹åŒ–åè°ƒç”¨ 12345678910111213141516171819202122232425262728293031class Person &#123; // å£°æ˜ä¸€ä¸ªPersonç±» private String name; // å±æ€§å°è£… private static String country; // ç±»é™æ€å±æ€§ï¼Œå¯é€šè¿‡ç±»æˆ–å…¶å®ä¾‹å¯¹è±¡è°ƒç”¨(æœ‰åˆ«äºjs) public Person() &#123; // ç±»æ„é€ æ–¹æ³•ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œæ²¡æœ‰voidä»¥åŒºåˆ«æ™®é€šå‡½æ•° // this()å¿…é¡»åœ¨æ„é€ å‡½æ•°å†…è°ƒç”¨ï¼Œä¸”ä¼˜å…ˆäºå…¶å®ƒä»£ç æ‰§è¡Œ this(\"invoke construct fun with param\"); &#125; public Person(String name) &#123; // ç±»æ„é€ æ–¹æ³•é‡è½½ this.name = name; // thisæŒ‡å‘å®ä¾‹åŒ–å¯¹è±¡ &#125; // ç±»é™æ€æ–¹æ³•ï¼Œæ— æ³•ä½¿ç”¨thisï¼Œæ— æ³•è°ƒç”¨éé™æ€å±æ€§åŠæ–¹æ³• // å› ä¸ºé™æ€çš„å±æ€§å’Œæ–¹æ³•å¯ç›´æ¥é€šè¿‡ç±»è°ƒç”¨ï¼Œæ— éœ€å®ä¾‹åŒ–å¯¹è±¡ public static void setCountry(String c) &#123; country = c; &#125; public String getName() &#123; // getter return this.name; &#125; public void setName(String name) &#123; // setter ä¿®æ”¹å±æ€§å€¼ this.name = name; &#125;&#125;public class Main &#123; public static void main(String[] args) &#123; Person p1 = new Person(\"jeff\"); p1.setName(\"jeffrey\"); Person.setCountry(\"ä¸­å›½\"); System.out.println(\"name: \" + p1.getName()); &#125;&#125;","categories":[{"name":"back-end","slug":"back-end","permalink":"http://yoursite.com/categories/back-end/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"}],"keywords":[{"name":"back-end","slug":"back-end","permalink":"http://yoursite.com/categories/back-end/"}]},{"title":"2019å¹´8æœˆå‰ç«¯é¢è¯•æ€»ç»“","slug":"2019å¹´8æœˆå‰ç«¯é¢è¯•æ€»ç»“","date":"2019-09-15T08:43:54.000Z","updated":"2019-09-15T14:36:48.000Z","comments":true,"path":"2019/09/15/2019å¹´8æœˆå‰ç«¯é¢è¯•æ€»ç»“/","link":"","permalink":"http://yoursite.com/2019/09/15/2019å¹´8æœˆå‰ç«¯é¢è¯•æ€»ç»“/","excerpt":"","text":"å…³äºè£¸è¾åœ¨2019å¹´ä¸‹åŠå¹´ï¼Œæ•´ä¸ªäº’è”ç½‘åœˆä¸æ€ä¹ˆæ™¯æ°”çš„å¤§ç¯å¢ƒä¸‹ï¼Œæˆ‘é€‰æ‹©äº†è£¸è¾ï¼Œå¹¶ä¸”å¯¹è‡ªå·±çš„é€‰æ‹©æ²¡æœ‰åæ‚”ã€‚åŸå› å¦‚ä¸‹ï¼š å¾ˆå¤šä¼ä¸šåœ¨æ”¿åºœæ”¿ç­–å¯¼å‘ä¸‹æ’¤ç¦»å¸‚ä¸­å¿ƒå¾€ä½™æ­ã€è§å±±ç­‰å‘¨è¾¹åŒºåŸŸæ¬è¿ï¼Œå‰å…¬å¸ä¹Ÿä¸ä¾‹å¤–ï¼Œåœ¨æ¯å¤©å¾€è¿”3å°æ—¶çš„ç…ç†¬ä¸‹æ¯…ç„¶å†³å®šåœ¨æ–°é¡¹ç›®å¯åŠ¨ä¹‹å‰é€’äº¤è¾èŒã€‚ ä¹‹å‰æ˜¯ä»¥å®ä¹ ç”Ÿçš„èº«ä»½è½¬æ­£å‡ ä¹æ²¡æœ‰é¢è¯•ç»éªŒï¼Œæƒ³ç€å¯è¦å¥½å¥½åœ°å‡†å¤‡é¢è¯•ã€‚ å…³äºæœ¬äººå³å°†å¥”ä¸‰ã€éç§‘ç­ã€æ¥è§¦å‰ç«¯ä¸€å¹´åŠæ—¶é—´ é¢è¯•ç»å† ä»¥ä¸‹é—®é¢˜å…¨å‡­é¢è¯•ç»“æŸåçš„å›å¿†ï¼š æœ‰èµå¾®å•†åŸ æœ‰èµæŠ€æœ¯å›¢é˜Ÿ CSSç›¸å…³ IEç›’å­æ¨¡å‹å’Œæ ‡å‡†ç›’å­æ¨¡å‹åŒºåˆ« ä¼ªç±»ã€ä¼ªå…ƒç´ ï¼ˆ::first-line, ::first-letter, ::after, ::beforeï¼‰ CSSé€‰æ‹©å™¨ä¼˜å…ˆçº§ï¼š!importent &gt; å†…è”æ ·å¼ &gt; idé€‰æ‹©å™¨ &gt; classé€‰æ‹©å™¨ â€¦ CSSå®ç°å‚ç›´ã€æ°´å¹³å±…ä¸­æ–¹æ³• flex-boxå¸¸ç”¨å±æ€§å€¼ positionå±æ€§å€¼ï¼šstatic(é»˜è®¤å€¼), relative, absolute, fixed, sticky JSç›¸å…³ Object.prototype.toString.call ä¸ºä»€ä¹ˆèƒ½è¾“å‡º[object Object]? åŸå‹ï¼ŒåŸå‹é“¾ï¼Œç»§æ‰¿æ–¹å¼ callã€applyã€bind æµè§ˆå™¨Event-Loop Reactç›¸å…³ Reactç”Ÿå‘½å‘¨æœŸå‡½æ•° ç»„ä»¶åä¸ºä»€ä¹ˆè¦å¤§å†™ï¼šè·ŸJSXè¯­æ³•è§£æç”¨ä»¥åŒºåˆ†åŸç”Ÿhtmlå…ƒç´  classç»„ä»¶å’Œfunctionç»„ä»¶åŒºåˆ« è™šæ‹ŸDomå¦‚ä½•æ¸²æŸ“ React Diffç®—æ³• renderæœºåˆ¶ï¼Œçˆ¶å­ç»„ä»¶æ¸²æŸ“å¼•å‘re-renderé—®é¢˜ React Hooks React Routerä¸¤ç§æ¨¡å¼hashã€historyåŒºåˆ«(hashæ¨¡å¼#åé¢çš„å†…å®¹ä¸ä¼šå‘é€åˆ°æœåŠ¡å™¨ï¼Œhistoryæ¨¡å¼ä¸‹nginxæœåŠ¡å™¨éœ€è¦è®¾ç½®try_files) ç®—æ³•ç›¸å…³ æ±‚ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† æ¶‚é¸¦æ™ºèƒ½é¢è¯• React16 æ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°static getDerivedStateFromPropsã€getSnapShotBeforeUpdateç­‰ â€‹ åˆå§‹åŒ–é˜¶æ®µï¼šconstructor =&gt; componentWillReceivePropsï¼ˆstatic getDerivedStateFromPropsï¼‰ =&gt; componentWillMount =&gt; render =&gt; componentDidMount =&gt; componentWillUnmount â€‹ æ›´æ–°é˜¶æ®µï¼šcomponentWillReceivePropsï¼ˆstatic getDerivedStateFromPropsï¼‰ =&gt; shouldComponentUpdate =&gt; componentWillUpdate =&gt; render =&gt; componentDidUpdate React16 fiberçº¤ç¨‹åŸç† æœ‰å“ªäº›å­—æ®µ æ€§èƒ½ä¼˜åŒ–ä½“ç°åœ¨å“ªé‡Œï¼ˆReactæ€§èƒ½ç“¶é¢ˆåœ¨å“ªï¼Ÿdiffç®—æ³•è€—æ—¶ï¼Ÿï¼‰ React Components Classå’ŒFunctionç»„ä»¶å£°æ˜æ–¹å¼çš„åŒºåˆ«ï¼Ÿæ›´æ–°æœºåˆ¶ä¸åŒï¼Ÿ React Hooksç›¸æ¯”åŸClasså†™æ³•æœ‰å“ªäº›ä¼˜åŠ¿ React JSX -&gt; babelè½¬è¯‘ -&gt; Reactåº“createElementç”Ÿæˆdomæ ‘ -&gt; React-DOMåº“renderæ–¹æ³•è°ƒç”¨DOMåŸç”ŸapiæŒ‚è½½æµè§ˆå™¨domæ ‘ä¸Š Reactè™šæ‹ŸDomçš„åŸç†ï¼Œdiffç®—æ³•ï¼ˆä¸‰ç§æ–¹å¼ï¼‰ï¼Œkeyä½œç”¨ reduxæºç é˜…è¯»ï¼Œè®¾è®¡æ€æƒ³ï¼Œè®¢é˜…ç›‘å¬è®¾è®¡æ¨¡å¼ reduxä¸­é—´ä»¶çš„ç†è§£ï¼ŒåŒ…è£…dispatchï¼Œå¼‚æ­¥å›æ‰æ–¹å¼æ”¹å˜stateï¼Ÿ TypeScriptæœ‰å“ªäº›åŸºæœ¬ç±»å‹ï¼šæ³›å‹ã€å…ƒç»„ Tupleã€æšä¸¾ Webpackæ‰“åŒ…åŸç†ã€æ’ä»¶å’Œloaderå‘ç”Ÿåœ¨æ‰“åŒ…çš„å“ªä¸ªé˜¶æ®µ å‡Œç¬›æ•°ç é¢è¯• Reactä¸­ thisç»‘å®šæ–¹å¼ï¼ˆbind(this)ï¼Œç®­å¤´å‡½æ•°ï¼‰ï¼Œä¸¤ç§æ–¹å¼çš„åŒºåˆ« ReduxåŸç† Reactè·¯ç”±æ‡’åŠ è½½åŸç† pureComponentåŸç†ï¼ˆå¦‚ä½•é¿å…ä¸å¿…è¦çš„re-renderï¼‰ Webpack tree-shakingçš„åŸç† æ‰‹å†™æ·±æ‹·è´å‡½æ•° ES7ã€ES8æœ‰å“ªäº›æ–°æ–¹æ³•ï¼ˆè£…é¥°å™¨å±äºES6ï¼‰ Promiseã€Generatorã€async awaitæ–¹æ³•åŒºåˆ«ï¼ˆGeneratorçš„æš‚åœï¼‰ é—­åŒ…ï¼ˆå¦‚ä½•é‡Šæ”¾é—­åŒ…ï¼‰ Arrayçš„æ‰€æœ‰æ–¹æ³•ï¼ˆæ³¨æ„æ˜¯å¦æ”¹å˜åŸæ•°ç»„sortï¼Œfillï¼ŒlastIndexOfï¼Œmapï¼Œincludesï¼Œjoinï¼Œreverseï¼Œreduceï¼ŒcopyWithinï¼‰ ES6 â€¦ æ‰©å±•è¯­æ³•çš„åŸç†ï¼ˆéå†å™¨æ¥å£ï¼Œè¢«for â€¦ ofå¾ªç¯éå†ï¼‰ å¯»æ‰¾å­—ç¬¦ä¸²ä¸­è¿ç»­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦ 12345678910111213141516171819202122var str = \"bvaafffaaazzzaa\";function calc(str) &#123; var arr = str.split(''); var temp =[]; var obj = &#123;&#125;; var count = -1; arr.forEach((s, index) =&gt; &#123; if (s === arr[index - 1] || s === arr[index + 1]) &#123; if (s !== arr[index - 1]) &#123; ++ count; &#125; temp[count] ? temp[count].push(s) : temp[count] = [s]; &#125; &#125;); var max = Math.max.apply(null, temp.map((arr) =&gt; arr.length)); var maxArr = temp.filter((arr) =&gt; arr.length === max); maxArr.forEach((arr) =&gt; &#123; obj[arr[0]] = max; &#125;); return obj;&#125;console.log(calc(str)); æ­£åˆ™è¡¨è¾¾å¼è§£æ³•å‚è€ƒï¼š JSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹Â·åå‘å¼•ç”¨ æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…é‡å¤çš„å­—ç¬¦ä¸²[è¶…è¯¦ç»†]é™„å®Œæ•´å®ä¾‹ ç¿è½¶ä¿¡æ¯ Chromeçªç ´ï¼šfont-sizeï¼š12px zoom:1 æµè§ˆå™¨æ ‡ç­¾é¡µä¹‹é—´è¿›è¡Œé€šä¿¡onMessage/postMessageï¼Œ Marginé‡å BFCï¼ŒZ-indexï¼šå±‚å é¡ºåºé—®é¢˜ï¼Œ LocalStorageå¦‚ä½•çªç ´5Mï¼ŒSessionStorage CookieåŒºåˆ«ï¼Œ PWAï¼ŒH5ç¦»çº¿å¼€å‘äº†è§£ï¼Œå­˜å‚¨åœ¨å“ª AMD\\CMD\\CommonJS åŒºåˆ« this.setStateæ–¹æ³•åŒæ­¥å¼‚æ­¥é—®é¢˜ï¼ˆåˆæˆäº‹ä»¶åŸç†ï¼‰ å˜é‡æå‡ 12345678910111213141516171819var a = 10;function fun() &#123; console.log(a); var b = a = 20; console.log(a);&#125;fun();var a = 10;function fun() &#123; console.log(a); var a = b = 20; console.log(a);&#125;fun(); é¢è¯•å‡†å¤‡ Reacté«˜é¢‘é¢è¯•é¢˜æ¢³ç†ï¼Œçœ‹çœ‹é¢è¯•æ€ä¹ˆç­”ï¼Ÿï¼ˆä¸Šï¼‰ List of (Advanced) JavaScript Questionsï¼ˆä¸Šï¼‰ 20é“JSåŸç†é¢˜åŠ©ä½ é¢è¯•ä¸€è‡‚ä¹‹åŠ›ï¼ è¿™å„¿æœ‰20é“å¤§å‚é¢è¯•é¢˜ç­‰ä½ æŸ¥æ”¶ ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ01 reactæ–°ç”Ÿå‘½å‘¨æœŸæ›¿ä»£æ—§ç”Ÿå‘½å‘¨æœŸçš„æœ€ä½³å®è·µ é¢è¯•æ€»ç»“ å»ºè®®åœ¨Bossç›´è˜ä¸Šæ‰¾ï¼Œç›¸æ¯”ä¹‹ä¸‹æ‹‰é’©ç½‘æ˜¾å¾—ä¸æ€ä¹ˆé è°± ç›®å‰å°±ä¸šç¯å¢ƒæ‰€è¶‹ï¼Œå…¬å¸æ‹›è˜è¦æ±‚æ˜æ˜¾æå‡ï¼Œåè§‚é˜¿é‡Œæ‹›è˜åŸºæœ¬éƒ½æ˜¯P6+ï¼ŒP7çº§åˆ«ï¼Œè¦æå‡è‡ªèº«æŠ€èƒ½å’Œè½¯å®åŠ› æ•°æ®ç»“æ„å’Œç®—æ³•ï¼ŒäºŒé¢åŸºæœ¬ä¼šé—®ç®€å•çš„ç®—æ³•é¢˜ç›®ï¼Œåˆ·LeetCodeæœ‰ç”¨ CSSç›¸å…³åŸºç¡€çŸ¥è¯†è¾ƒè–„å¼± èº«ä½“è¿˜æ˜¯ç¬¬ä¸€ä½","categories":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}],"tags":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://yoursite.com/tags/é¢è¯•/"}],"keywords":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}]},{"title":"Vueå“åº”å¼åŸç†åŠæ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€æ˜“çš„MVVM","slug":"Vueå“åº”å¼åŸç†åŠæ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€æ˜“çš„MVVM","date":"2019-08-04T07:36:39.000Z","updated":"2019-08-04T17:13:57.000Z","comments":true,"path":"2019/08/04/Vueå“åº”å¼åŸç†åŠæ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€æ˜“çš„MVVM/","link":"","permalink":"http://yoursite.com/2019/08/04/Vueå“åº”å¼åŸç†åŠæ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€æ˜“çš„MVVM/","excerpt":"","text":"å‰ç½®çŸ¥è¯†ç‚¹ï¼šMVVMã€MVCæ€æƒ³ï¼š äº†è§£webå‰ç«¯å‘å±•å†å²æœ‰åŠ©äºç†è§£MVVMã€MVCæ€æƒ³ï¼Œå†å²å‘å±•æ€»æ˜¯æœç€ä¸æ–­ä¼˜åŒ–ä»£ç ç»„ç»‡ç»“æ„ã€æ˜“ç»´æŠ¤ã€å°è£…å¤ç”¨çš„æ–¹å‘ã€‚æ­å¼€é¢çº±ï¼Œä¸€åˆ‡è¿˜æ˜¯åŸºäºæµè§ˆå™¨æä¾›çš„APIè¿›è¡ŒDOMæ“ä½œã€‚äº‹å®è¯æ˜ä¸ºé¡¹ç›®å¼€å‘æ•ˆç‡çš„æå‡å¸¦æ¥äº†é‡å¤§æ„ä¹‰ã€‚ä½¿ç”¨MVVMæ¡†æ¶ï¼Œåªè¦æ”¹å˜JavaScriptå¯¹è±¡çš„çŠ¶æ€ï¼Œå°±ä¼šå¯¼è‡´DOMç»“æ„ä½œå‡ºå¯¹åº”çš„å˜åŒ–ï¼è¿™è®©æˆ‘ä»¬çš„å…³æ³¨ç‚¹ä»å¦‚ä½•æ“ä½œDOMå˜æˆäº†å¦‚ä½•æ›´æ–°JavaScriptå¯¹è±¡çš„çŠ¶æ€ï¼Œè€Œæ“ä½œJavaScriptå¯¹è±¡æ¯”DOMç®€å•å¤šäº†ï¼ å»–é›ªå³°MVVM æ¨èé˜…è¯»ï¼š ä»€ä¹ˆæ˜¯MVVMï¼ŒMVCå’ŒMVVMçš„åŒºåˆ«ï¼ŒMVVMæ¡†æ¶VUEå®ç°åŸç† mvcå’Œmvvmçš„åŒºåˆ« JSè®¾è®¡æ¨¡å¼ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼‰ï¼š è§‚å¯Ÿè€…æ¨¡å¼123456789101112131415161718192021class Observerable &#123; this.eventObj = &#123;&#125;; on(evName, fn) &#123; this.eventObj[evName] = this.eventObj[evName] ? [...this.eventObj[evName], fn] : [fn]; &#125; emit(evName, ...args) &#123; this.eventObj[evName].forEach((fn) =&gt; &#123; fn.apply(null, args); &#125;); &#125;&#125;// å®ä¾‹åŒ–ä¸€ä¸ªå¯è§‚å¯Ÿå¯¹è±¡const event = new Observerable();event.on('error', () =&gt; &#123; console.log('error1');&#125;)event.on('error', () =&gt; &#123; console.log('error2');&#125;)event.emit('error'); ä»£ç å‚è€ƒè‡ªï¼š Node.js && JavaScript é¢è¯•å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼äºŒ å‘å¸ƒ-è®¢é˜…æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒ-è®¢é˜…æ¨¡å¼æ ¸å¿ƒæ€æƒ³éå¸¸ç±»ä¼¼ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ç»´æŠ¤ä¸€ä¸ªObserverableå¯¹è±¡ï¼Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼é›†åˆæ‰€æœ‰Publisherå’ŒSubscriberå¯¹è±¡å½¢æˆEventHubä¿¡æ¯ä¸­å¿ƒï¼Œç”±ä¿¡æ¯ä¸­å¿ƒè´Ÿè´£é€šçŸ¥è®¢é˜…è€…ï¼Œåšåˆ°ä»£ç ç»„ç»‡ç»“æ„ä¼˜åŒ–ã€‚ æ¨èé˜…è¯»ï¼š è§‚å¯Ÿè€…æ¨¡å¼ vs å‘å¸ƒ-è®¢é˜…æ¨¡å¼ JSåŸç”ŸAPIï¼š Object.defineProperty() jså±æ€§æè¿°: gettersä¸setters Document.createDocumentFragment() Node.childNodes|nodeType|textContent|innerHtml|firstChild|firstElementChild AngularJså“åº”å¼åŸç†ï¼šé€šè¿‡è„å€¼æ£€æµ‹çš„æ–¹å¼æ¯”å¯¹æ•°æ®æ˜¯å¦æœ‰å˜æ›´ï¼Œæ¥å†³å®šæ˜¯å¦æ›´æ–°è§†å›¾ã€‚æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯é€šè¿‡setInterval()å®šæ—¶è½®è¯¢æ£€æµ‹æ•°æ®å˜åŠ¨ï¼Œå½“ç„¶Googleä¸ä¼šè¿™ä¹ˆlowã€‚Angularåªæœ‰åœ¨æŒ‡å®šçš„äº‹ä»¶è§¦å‘æ—¶è¿›å…¥è„å€¼æ£€æµ‹ï¼Œå¤§è‡´å¦‚ä¸‹ï¼šDOMäº‹ä»¶(è­¬å¦‚ç”¨æˆ·è¾“å…¥æ–‡æœ¬ã€ç‚¹å‡»æŒ‰é’®ng-click)ã€XHRå“åº”äº‹ä»¶$httpã€æµè§ˆå™¨Locationå˜æ›´äº‹ä»¶$locationã€Timeräº‹ä»¶($timeoutã€$interval)ã€æ‰§è¡Œ$digest()æˆ–$apply()ã€‚åœ¨Angularä¸­ç»„ä»¶æ˜¯ä»¥æ ‘çš„å½¢å¼ç»„ç»‡èµ·æ¥çš„ï¼Œç›¸åº”åœ°ï¼Œæ£€æµ‹å™¨ä¹Ÿæ˜¯ä¸€æ£µæ ‘çš„å½¢çŠ¶ã€‚å½“ä¸€ä¸ªå¼‚æ­¥äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè„æ£€æŸ¥ä¼šä»æ ¹ç»„ä»¶å¼€å§‹ï¼Œè‡ªä¸Šè€Œä¸‹å¯¹æ ‘ä¸Šçš„æ‰€æœ‰å­ç»„ä»¶è¿›è¡Œæ£€æŸ¥ï¼Œè¿™ç§æ£€æŸ¥æ–¹å¼çš„æ€§èƒ½å­˜åœ¨å¾ˆå¤§é—®é¢˜ã€‚ ç¨‹åºæ€ç»´ä»€ä¹ˆæ˜¯MVVMï¼ŒMVCå’ŒMVVMçš„åŒºåˆ«ï¼ŒMVVMæ¡†æ¶VUEå®ç°åŸç† Vueå“åº”å¼åŸç†ï¼š é€šè¿‡Object.defineProperty()APIç›‘å¬å¯¹è±¡çš„å˜åŒ–ï¼Œå®ç°æ“ä½œjså¯¹è±¡è‡ªåŠ¨æ›´æ–°DOMï¼ˆè°ƒç”¨é¢„å…ˆç»‘å®šçš„å›è°ƒå‡½æ•°ï¼‰ã€‚ç”±äºObject.definePropertyæ˜¯ES5ä¸­ä¸€ä¸ªæ— æ³•shimçš„ç‰¹æ€§ï¼Œè¿™ä¹Ÿå°±æ˜¯Vueä¸æ”¯æŒIE8ä»¥åŠæ›´ä½ç‰ˆæœ¬æµè§ˆå™¨çš„åŸå› ï¼Œè€Œä¸”ä¸èƒ½ç›‘å¬åˆ°æ•°ç»„çš„å˜åŒ–ï¼ˆVue3.0å¼€å§‹ä½¿ç”¨ES6æä¾›çš„Proxyï¼‰ã€‚ æ¨èé˜…è¯»ï¼š Vueå®˜ç½‘Â·æ·±å…¥å“åº”å¼åŸç† Vueå®˜ç½‘Â·æ•°ç»„æ›´æ–°æ£€æµ‹ æ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€æ˜“çš„MVVMï¼š Vueå“åº”å¼åŸç†ç®€å•æ˜äº†ï¼Œéš¾ç‚¹åœ¨äºVueå†…éƒ¨åšäº†å¾ˆå¤šäº‹æƒ…æ¥å®ç°åŒå‘ç»‘å®šã€æ€§èƒ½ä¼˜åŒ–ç­‰ï¼Œé€šè¿‡ç®—æ³•æ¨¡å‹å‡å°‘DOMæ ‘æ›´æ–°å’Œæœ€å¤§èŒƒå›´çš„é‡ç”¨ã€‚ å®ç°Vueæ„é€ å‡½æ•° 123456789101112131415161718192021// Vue æ„é€ å‡½æ•°function Vue(options = &#123;&#125;) &#123; this.$options = options; this._data = this.$options.data; // å®ä¾‹åŒ–ä¸€ä¸ªå‘å¸ƒè€…ï¼ˆå¯è§‚å¯Ÿå¯¹è±¡ï¼‰ new Publisher(this._data); // å®ç°vmå®ä¾‹å¯¹dataå¯¹è±¡ä¸­çš„å±æ€§ç›´æ¥è¯»å–å’Œèµ‹å€¼ for (let key in this._data) &#123; Object.defineProperty(this, key, &#123; enumerable: true, configurable: false, get() &#123; return this._data[key]; &#125;, set(newValue) &#123; this._data[key] = newValue; &#125; &#125;); &#125; new Compile(this.$options.el, this);&#125; å®ç°Compileç®€å•ç¼–è¯‘DOM 123456789101112131415161718192021222324252627282930// Compile ç®€å•ç¼–è¯‘DOMfunction Compile(el, vm) &#123; vm.$el = document.querySelector(el); const fragment = document.createDocumentFragment(); let child = null; while(child = vm.$el.firstChild) &#123; fragment.appendChild(child); // vm.$elçš„å­å…ƒç´ è¢«è½¬ç§»åˆ°fragment &#125; function replace(fragment) &#123; const pattern = /\\&#123;\\&#123;(.*)\\&#125;\\&#125;/; Array.from(fragment.childNodes).forEach((node) =&gt; &#123; let text = node.textContent; if (node.nodeType === 3 &amp;&amp; pattern.test(text)) &#123; const key = RegExp.$1.trim(); // ä¸ºæ¯ä¸€ä¸ª&#123;&#123; xxx &#125;&#125;èŠ‚ç‚¹å®ä¾‹åŒ–ä¸€ä¸ªè®¢é˜…è€…ï¼Œè®¢é˜…dataå¯¹è±¡ä¸­çš„å±æ€§å€¼å˜åŒ– // åˆ©ç”¨é—­åŒ…ï¼Œå°†nodeèŠ‚ç‚¹ä½œä¸ºç§æœ‰å˜é‡åœ¨å†…å­˜ä¸­ä¿å­˜èµ·æ¥ new Subscriber(vm, key, (newValue) =&gt; &#123; node.textContent = text.replace(pattern, newValue); &#125;); // vm[key]å¯¹dataå¯¹è±¡å–å€¼è§¦å‘getå‡½æ•°ï¼Œæ­¤æ—¶EventHubé™æ€å±æ€§targetæŒ‡å‘Subscriberå®ä¾‹ï¼Œå¹¶è¢«æ·»åŠ åˆ°eventsä¸­ node.textContent = text.replace(pattern, vm[key]) &#125; if (node.childNodes &amp;&amp; node.childNodes.length) &#123; replace(node); &#125; &#125;); &#125; replace(fragment); vm.$el.appendChild(fragment);&#125; å‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ç°å“åº” 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// å‘å¸ƒ-è®¢é˜…è®¾è®¡æ¨¡å¼// EventHubä¿¡æ¯ä¸­å¿ƒfunction EventHub() &#123; this.events = [];&#125;EventHub.prototype.on = function(evName) &#123; this.events.push(evName);&#125;EventHub.prototype.notify = function() &#123; this.events.forEach((event) =&gt; &#123; event.update(); &#125;);&#125;// Publisherå‘å¸ƒfunction Publisher(data) &#123; const eventHub = new EventHub(); for (let key in data) &#123; let value = data[key]; Object.defineProperty(data, key, &#123; enumerable: true, configurable: false, get() &#123; EventHub.target &amp;&amp; eventHub.on(EventHub.target); EventHub.target = null; return value; &#125;, set(newValue) &#123; if (newValue === value) &#123; return; &#125; value = newValue; eventHub.notify(); &#125; &#125;); &#125;&#125;// Subscriberè®¢é˜…function Subscriber(vm, key, fn) &#123; this.vm = vm; this.key = key; this.fn = fn; EventHub.target = this;&#125;Subscriber.prototype.update = function () &#123; this.fn(this.vm[this.key]);&#125; åœ¨å‘å¸ƒ-è®¢é˜…æ¨¡å¼ä¸­Publisherç›¸å½“äºObserverableå¯è§‚å¯Ÿå¯¹è±¡ï¼Œä¼ å…¥Vueæ„é€ å‡½æ•°optionsä¸­çš„dataå¯¹è±¡é€šè¿‡å®šä¹‰gettersä¸setterså˜æˆå¯è§‚å¯Ÿå¯¹è±¡ï¼Œä»»ä½•å–å€¼èµ‹å€¼æ“ä½œéƒ½å¯ä»¥å‘å¸ƒä¿¡æ¯åˆ°EventHubä¿¡æ¯ä¸­å¿ƒï¼Œç”±EventHubè´Ÿè´£é€šçŸ¥è®¢é˜…è€…ã€‚ å®Œæ•´ä»£ç ï¼š github/simple-mvvm å‚è€ƒæ–‡ç« ï¼š è¿™åº”è¯¥æ˜¯æœ€è¯¦ç»†çš„å“åº”å¼ç³»ç»Ÿè®²è§£äº† å®ç°ä¸€ä¸ªç®€å•çš„MVVM github/nano-mvc JSè®¾è®¡æ¨¡å¼æ¼«è°ˆ","categories":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"},{"name":"mvvm","slug":"mvvm","permalink":"http://yoursite.com/tags/mvvm/"}],"keywords":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}]},{"title":"å¯¹javascript EventLoopäº‹ä»¶å¾ªç¯æœºåˆ¶ä¸ä¸€æ ·çš„ç†è§£","slug":"å¯¹javascript EventLoopäº‹ä»¶å¾ªç¯æœºåˆ¶ä¸ä¸€æ ·çš„ç†è§£","date":"2019-07-23T10:58:36.000Z","updated":"2019-07-23T15:37:39.000Z","comments":true,"path":"2019/07/23/å¯¹javascript EventLoopäº‹ä»¶å¾ªç¯æœºåˆ¶ä¸ä¸€æ ·çš„ç†è§£/","link":"","permalink":"http://yoursite.com/2019/07/23/å¯¹javascript EventLoopäº‹ä»¶å¾ªç¯æœºåˆ¶ä¸ä¸€æ ·çš„ç†è§£/","excerpt":"","text":"å‰ç½®çŸ¥è¯†ç‚¹ï¼š æµè§ˆå™¨åŸç†ï¼Œæµè§ˆå™¨å†…æ ¸5ç§çº¿ç¨‹åŠåä½œï¼ŒJSå¼•æ“å•çº¿ç¨‹è®¾è®¡æ¨èé˜…è¯»ï¼š ä»æµè§ˆå™¨å¤šè¿›ç¨‹åˆ°JSå•çº¿ç¨‹ï¼ŒJSè¿è¡Œæœºåˆ¶æœ€å…¨é¢çš„ä¸€æ¬¡æ¢³ç† ã€FEã€‘æµè§ˆå™¨æ¸²æŸ“å¼•æ“ã€Œå†…æ ¸ã€ jså¼‚æ­¥ç¼–ç¨‹ï¼ŒPromiseå®ç°æ¨èé˜…è¯»ï¼š Javascriptå¼‚æ­¥ç¼–ç¨‹çš„4ç§æ–¹æ³• å‰ç«¯é¢è¯•å¿…è€ƒé¢˜Promiseçš„æºç è§£æ å †ã€æ ˆã€é˜Ÿåˆ—ã€æ‰§è¡Œæ ˆã€ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€äº‹ä»¶å¾ªç¯æœºåˆ¶â™»ï¸æ¨èé˜…è¯»ï¼š JavaScriptå¼‚æ­¥ç¼–ç¨‹-åŸºç¡€ç¯‡ å½»åº•ææ‡‚æµè§ˆå™¨Event-loop è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚ JavaScript æ‰§è¡Œæœºåˆ¶ ä¸€æ¬¡å¼„æ‡‚Event Loopï¼ˆå½»åº•è§£å†³æ­¤ç±»é¢è¯•é—®é¢˜ï¼‰ äº‹ä»¶å¾ªç¯æœºåˆ¶ ç›¸ä¿¡è¯»è€…è¯»å®Œä»¥ä¸Šæ¨èçš„æ–‡ç« åï¼Œå·²ç»çŸ¥é“äº‹ä»¶å¾ªç¯æœºåˆ¶æ˜¯æ€ä¹ˆä¸€å›äº‹äº†å§ï¼Œä¹Ÿèƒ½ä»å®¹åº”å¯¹é¢è¯•ã€‚æ¥ä¸‹æ¥æˆ‘è¦è°ˆè°ˆè‡ªå·±çš„ç†è§£ï¼š ä¸ºä»€ä¹ˆä¼šæœ‰äº‹ä»¶å¾ªç¯æœºåˆ¶ jsè®¾è®¡ä¹‹åˆå°±æ˜¯å•çº¿ç¨‹æ¨¡å¼ï¼Œä»£ç ä¹Ÿéƒ½æ˜¯é¡ºåºæ‰§è¡Œï¼Œå½“é‡åˆ°å› ä¸ºå¤§é‡è®¡ç®—ã€httpè¯·æ±‚ç­‰éœ€è¦é¢å¤–çš„ç­‰å¾…æ—¶é—´æ—¶ï¼Œæµè§ˆå™¨ç”¨æˆ·å°±ä¼šä½“éªŒåˆ°å¡é¡¿äº†ï¼Œæ‰€ä»¥æ‰€æœ‰çš„è®¾è®¡å’Œæ”¹è¿›åˆè¡·åªæœ‰ä¸€ä¸ªå°±æ˜¯è¦å¿«ã€‚ äº‹ä»¶å¾ªç¯æœºåˆ¶çš„äº§ç”Ÿ æµè§ˆå™¨è¯´æˆ‘çš„å†…æ ¸æ˜¯å¤šçº¿ç¨‹ï¼Œå¯ä»¥è¾…åŠ©JSå¼•æ“çº¿ç¨‹å•Šï¼ŒWeb Workerçº¿ç¨‹æä¾›å¤§é‡è®¡ç®—è¾…åŠ©ï¼ˆä¸èƒ½æ“ä½œDOMï¼‰ï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ï¼Œå®šæ—¶è§¦å‘å™¨çº¿ç¨‹ï¼Œ å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹ã€‚ æ‰§è¡Œæ ˆï¼ˆå…ˆè¿›åå‡ºï¼‰ï¼Œç”±JSå¼•æ“çº¿ç¨‹æ§åˆ¶ï¼Œå¼•ç”¨ä¸‹é¢è¿™ä¸ªä¾‹å­è°ˆè°ˆè‡ªå·±çš„ç†è§£ï¼š 123456789101112131415161718console.log('script start');setTimeout(function() &#123; console.log('setTimeout');&#125;, 0);Promise.resolve().then(function() &#123; console.log('promise1');&#125;).then(function() &#123; console.log('promise2');&#125;);console.log('script end');// \"script start\"// \"script end\"// \"promise1\"// \"promise2\"// \"setTimeout\" åœ¨ES5è¿˜æ²¡æœ‰Promiseæ—¶ä»£ï¼Œå¼‚æ­¥å›è°ƒå¾ˆå¸¸è§ï¼Œä¸Šé¢ä¾‹å­ä¸­ï¼Œé€šè¿‡è§£è¯»Promiseæºç ï¼ˆå‰ç«¯é¢è¯•å¿…è€ƒé¢˜Promiseçš„æºç è§£æï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠPromiseè½¬æ¢æˆå¦‚ä¸‹å›¾å¼å›è°ƒï¼ˆä¸ªäººç†è§£ï¼Œæ–‡ç« ä¸­çš„Promiseæºç ä¹Ÿåªæ˜¯æ¨¡æ‹Ÿï¼Œå¤§éƒ¨åˆ†æµè§ˆå™¨å·²ç»åŸç”Ÿæ”¯æŒï¼‰ã€‚ æ‰“å°å®Œscript start, script endä¸»æ‰§è¡Œæ ˆå‡ºæ ˆï¼Œå¦‚æœPromise.resolve().thenæ¢æˆnew Promise(executor)ï¼Œè„‘è¡¥Promiseæ¢æˆå›è°ƒå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°ä¸€æ‰§è¡Œï¼Œexecutorå‡½æ•°ä¹Ÿå°±æ‰§è¡Œäº†ï¼Œç„¶åé‡åˆ°å¼‚æ­¥å›è°ƒï¼Œå›è°ƒå‡½æ•°è¢«å…¶å®ƒå¯¹åº”çš„çº¿ç¨‹æ¥æ‰‹ï¼Œå¯åŠ¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå®Œæˆåå›è°ƒå‡½æ•°è¢«æ¨å…¥äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰å¾…æ‰§è¡Œæ ˆç©ºäº†è¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œ ä»¥ä¸Šè¿™ç§åœ¨å¼‚æ­¥å‡½æ•°ä¸­æ”¾åŒæ­¥å‡½æ•°çš„ä¾‹å­ï¼Œä¸ºäº†åˆç†è§£é‡Šè¾“å‡ºé¡ºåºè€Œæ¨å‡ºäº†microtaskså¾®ä»»åŠ¡çš„æ¦‚å¿µï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œè„‘è¡¥Promiseæ¢æˆå›è°ƒå‡½æ•°ï¼ŒPromise.prototype.thenå†…éƒ¨æ‰§è¡Œäº†return new Promise()ï¼Œjså¼•æ“åœ¨æ•æ‰åˆ°Promiseæ—¶ï¼Œæ”¾åˆ°äº†ç”±jså¼•æ“è‡ªèº«æ§åˆ¶çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œï¼Œä¹Ÿå°±é€ æˆpromise1ã€2ã€3ã€4é”™å¼€æ‰“å° 123456789101112131415161718192021222324console.log('script start');new Promise(function(resolve, reject) &#123; console.log('promise1'); resolve();&#125;).then(function() &#123; console.log('promise2');&#125;);new Promise(function(resolve, reject) &#123; console.log('promise3'); resolve();&#125;).then(function() &#123; console.log('promise4');&#125;);console.log('script end');// \"script start\"// \"promise1\"// \"promise3\"// \"script end\"// \"promise2\"// \"promise4\" microtaskså¾®ä»»åŠ¡çš„æ¦‚å¿µå®Œå…¨ä¸ºäº†è§£é‡Šå¼‚æ­¥å‡½æ•°ä¸­æ”¾åŒæ­¥å‡½æ•°çš„åœºæ™¯ï¼Œè€Œä¸”å„ç±»æ–‡ç« å’Œé¢è¯•éƒ½æ˜¯è¿™ç§é¢˜ç›®å’Œä¾‹å­ï¼Œåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šåœ¨Promiseä¸­è¿™ä¹ˆå†™ä¹ˆï¼Ÿï¼Œåœ¨æˆ‘çœ‹æ¥è¿™ç§æ¯”è¾ƒæ‰“å°é¡ºåºå¤ªè¿‡äºç†è®ºï¼Œè€Œä¸”å¯èƒ½ä¼šæ··ä¹±ä½ çš„æ€ç»ªã€‚å°±åƒä¸‹é¢çš„ä¾‹å­ï¼ŒPromiseçš„resolveå†³å®šäº†PromiseçŠ¶æ€ï¼Œå°±åƒåœ¨å›è°ƒå‡½æ•°ä¸­æ»¡è¶³äº†æ¡ä»¶æ‰ä¼šç»§ç»­æ‰§è¡Œï¼Œä¾‹å­ä¸­åªæ˜¯ç”¨setTimeoutæ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ï¼Œç”¨ä¹‹å‰çš„ç†è®ºä½ å¯èƒ½è§‰å¾—setTimeoutè¢«æ”¾å…¥äº†äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—ï¼Œé‚£æ²¡æœ‰resolveçš„Promiseæ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿï¼ˆæ”¾åˆ°å¾®ä»»åŠ¡é‡Œä¸€ç›´é˜»ç¢ç¬¬ä¸€ä¸ªsetTimeoutå®ä»»åŠ¡æ‰§è¡Œå—ï¼Ÿæ˜¾ç„¶æ˜¯ä¸å¯èƒ½çš„ï¼Œè¿™ä¸æ˜¯è·Ÿè®¾è®¡äº‹ä»¶å¾ªç¯æœºåˆ¶åˆè¡·å†²çªäº†ä¹ˆï¼‰ 12345678910111213141516171819202122setTimeout(function() &#123; console.log('setTimeout');&#125;, 0);new Promise(function(resolve, reject) &#123; setTimeout(function() &#123; // æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ console.log('promise1'); resolve(); &#125;, 0);&#125;).then(function() &#123; console.log('promise2');&#125;);new Promise(function(resolve, reject) &#123; // resolve(); æ³¨é‡Šæ‰resolveï¼Œä½¿Promiseä¸€ç›´å¤„äºâ€˜pendingâ€™çŠ¶æ€&#125;).then(function() &#123; console.log('promise2');&#125;);// \"setTimeout\"// \"promise1\"// \"promise2\" ä¸ªäººè®¤ä¸ºæŠŠPromiseï¼Œasync/awaitè„‘è¡¥æˆåŸå§‹çš„å›è°ƒå‡½æ•°ï¼ˆæ¨¡æ‹Ÿæºç ä¸­æ¨¡æ‹Ÿå¼‚æ­¥æ˜¯ç”¨çš„setTimeoutå‡½æ•°ï¼‰ï¼Œè€Œjså¼•æ“æ•æ‰åˆ°setTimeout, setIntervalå°±è½¬ç»™å®šæ—¶è§¦å‘å™¨çº¿ç¨‹å¤„ç†ï¼Œæ•æ‰åˆ°XMLHttpReuqest, fetchå°±è½¬ç»™å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹ï¼Œè·Ÿäº‹ä»¶è§¦å‘çº¿ç¨‹ä¸€èµ·ç®¡ç†ç€äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡çš„æ¦‚å¿µå¯ä»¥çœ‹ä½œæ˜¯å½“äº‹ä»¶è§¦å‘çº¿ç¨‹é‡åˆ°å‡ ä¹åŒæ—¶éœ€è¦æŠŠå›è°ƒå‡½æ•°æ”¾åˆ°äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—æ—¶ï¼ŒPromiseå†…éƒ¨çš„å¼‚æ­¥æ ‡è¯†å‡½æ•°ä¼˜å…ˆçº§é«˜äºsetTimeoutå‡½æ•°å§ï¼Œä»¥ä¸Šä¾‹å­ä¸­æ²¡æœ‰æ‰§è¡Œresolveçš„PromiseçŠ¶æ€ä¸€ç›´å¤„äºâ€™pendingâ€™ï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹å‹æ ¹æ²¡æœ‰æ”¾å…¥åˆ°äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ€»ä¹‹æµè§ˆå™¨ä¼šå®‰æ’çš„å¦¥å¦¥çš„ï¼Œä¸è¦æ‰“æ¶ï¼Œè™½ç„¶jså¼•æ“çº¿ç¨‹åªæœ‰ä¸€ä¸ªï¼ˆå¬æˆ‘æŒ‡æŒ¥æ’å¥½é˜Ÿï¼Œå’±ä»¬è¿™éƒ½æ˜¯åŒæ­¥ä»£ç æ‰§è¡Œmsçº§åˆ«ï¼Œæˆ‘å¼€äº†å¾ˆå¤šå…¶å®ƒçº¿ç¨‹å¤„ç†éœ€è¦ç­‰å¾…çš„ä»£ç äº†ï¼‰ã€‚ä»¥ä¸‹ä¾‹å­æ¨¡æ‹Ÿæ‰€è°“çš„å‡ ä¹åŒæ—¶æŠŠå›è°ƒå‡½æ•°æ”¾åˆ°äº‹ä»¶ä»»åŠ¡é˜Ÿåˆ—ï¼Œè®°å¾—æŠŠPromiseè„‘è¡¥æˆåŸå§‹çš„å›è°ƒå‡½æ•°ã€‚ä»¿ä½›å›åˆ°äº†æ²¡æœ‰å¾®ä»»åŠ¡çš„æ—¶ä»£ã€‚ 123456789101112131415161718192021222324252627setTimeout(function() &#123; console.log('setTimeout');&#125;, 0);new Promise(function(resolve, reject) &#123; setTimeout(function() &#123; // æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ console.log('promise1'); resolve(); &#125;, 2000);&#125;).then(function() &#123; console.log('promise2');&#125;);new Promise(function(resolve, reject) &#123; setTimeout(function() &#123; // æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ console.log('promise3'); resolve(); &#125;, 2000);&#125;).then(function() &#123; console.log('promise4');&#125;);// \"setTimeout\"// \"promise1\"// \"promise2\"// \"promise3\"// \"promise4\" ä»¥ä¸Šå†…å®¹çº¯å±æœªæ·±å…¥äº†è§£jsæƒ…å†µä¸‹çš„ä¸ªäººç†è§£ï¼Œæ„Ÿè§‰æ˜¯åœ¨åŠªåŠ›æ‘’å¼ƒå¾®ä»»åŠ¡çš„æ¦‚å¿µï¼Œå›å½’ES5å›è°ƒå‡½æ•°æ—¶ä»£ï¼Œä¾¿äºè‡ªèº«ç†è§£äº‹ä»¶å¾ªç¯æœºåˆ¶è€Œåšå‡ºçš„éæƒ³ã€‚ å¤šç¯å¢ƒä¸‹çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ åœ¨nodeç¯å¢ƒã€æµè§ˆå™¨ç¯å¢ƒä»¥åŠå„ä¸ªä¸åŒç‰ˆæœ¬ä¸‹jså¼•æ“å¤„ç†çš„æ–¹å¼è¿˜ä¸å¤ªä¸€æ ·ã€‚nodeæ¯”æµè§ˆå™¨è¿˜å¤æ‚äº›ğŸ˜¢ï¼ˆä»¥åå­¦Node.jsæ—¶å†çœ‹å§ï¼‰ æ¨èé˜…è¯»ï¼š NodeJSçš„Event Loop åˆè¢«nodeçš„eventloopå‘äº†ï¼Œè¿™æ¬¡æ˜¯nodeçš„é”… å…³äºChromeæµè§ˆå™¨73ä»¥ä¸‹ç‰ˆæœ¬å’Œ73ç‰ˆæœ¬ä¸‹`async/await`åŒºåˆ« å‚è€ƒæ–‡ç« ï¼š æ›´å¿«çš„å¼‚æ­¥å‡½æ•°å’Œ Promise Tasks, microtasks, queues and schedules","categories":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"äº‹ä»¶å¾ªç¯æœºåˆ¶","slug":"äº‹ä»¶å¾ªç¯æœºåˆ¶","permalink":"http://yoursite.com/tags/äº‹ä»¶å¾ªç¯æœºåˆ¶/"}],"keywords":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}]},{"title":"å¸¦ä½ å¿«é€Ÿäº†è§£å¦‚ä½•è¿›è¡Œç§»åŠ¨ç«¯å¼€å‘","slug":"å¸¦ä½ å¿«é€Ÿäº†è§£å¦‚ä½•è¿›è¡Œç§»åŠ¨ç«¯å¼€å‘","date":"2019-07-20T12:24:29.000Z","updated":"2019-07-21T05:17:21.000Z","comments":true,"path":"2019/07/20/å¸¦ä½ å¿«é€Ÿäº†è§£å¦‚ä½•è¿›è¡Œç§»åŠ¨ç«¯å¼€å‘/","link":"","permalink":"http://yoursite.com/2019/07/20/å¸¦ä½ å¿«é€Ÿäº†è§£å¦‚ä½•è¿›è¡Œç§»åŠ¨ç«¯å¼€å‘/","excerpt":"","text":"å›¾ç‰‡æ¥è‡ªç½‘ç»œ æ­£å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¾—ç›ŠäºJavaScriptè¯­è¨€çš„å¼ºå¤§å’Œæµè¡Œï¼Œå‰ç«¯å·¥ç¨‹å¸ˆæ€ç»´å¹¿åº¦ä¸æ–­æå‡ï¼Œè¿™æ˜¯è¦æŠ¢äº†IOSã€Androidå·¥ç¨‹å¸ˆé¥­ç¢—çš„èŠ‚å¥å•Šï¼ˆå½“ç„¶ä¹Ÿä¸å¯èƒ½å®Œå…¨æ›¿ä»£ï¼Œæ¯•ç«Ÿäººå®¶æ˜¯åŸç”Ÿå¼€å‘ï¼‰ã€‚ ä¸ºä»€ä¹ˆæ··åˆå‹ç§»åŠ¨å¼€å‘å—æ¬¢è¿ğŸ‘ ç›®å‰ä¸»æµçš„æ¡†æ¶éƒ½æ˜¯ä¸€å¥—ä»£ç å¤šç«¯é€‚é…ï¼Œåªéœ€ç»´æŠ¤ä¸€å¥—ä»£ç ï¼Œé™ä½ç”¨äººæˆæœ¬ ç›¸æ¯”ä¸ä¼ ç»Ÿçš„IOSã€Androidå¼€å‘ï¼Œæ¯æ¬¡å‘ç‰ˆéƒ½è¦ç»è¿‡åº”ç”¨å¸‚åœºçš„å®¡æ ¸ï¼Œä¸€äº›ç»å¸¸éœ€è¦æ›´æ–°çš„æ´»åŠ¨é¡µH5å°±æ˜¾å¾—å¾—å¿ƒåº”æ‰‹ ç›¸æ¯”ä¸WebAppï¼ˆå³H5åº”ç”¨ï¼Œåªè¿è¡Œåœ¨ç§»åŠ¨ç«¯WebViewæµè§ˆå™¨ä¸Š)ï¼Œè°ƒç”¨äº†è®¾å¤‡APIï¼Œäº¤äº’ä½“éªŒå’Œæ€§èƒ½éƒ½å¾—åˆ°äº†æå‡ NativeAppï¼ˆä¼ ç»Ÿçš„åŸç”ŸAppå¼€å‘æ¨¡å¼ï¼‰ IOSï¼šObject-cã€Swiftã€SwiftUIã€ Androidï¼šJava WebAppï¼ˆH5åº”ç”¨ï¼‰ è¿è¡Œåœ¨WebViewæµè§ˆå™¨ä¸Šï¼Œåªéœ€è¦è¿›è¡Œç§»åŠ¨ç«¯çš„é€‚é…å³å¯ å¼€å‘æ¡†æ¶ï¼šVueJS HybridAppï¼ˆæ··åˆå‹åº”ç”¨å¼€å‘æ¨¡å¼ï¼‰ æ­£å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šåœ¨åŸç”Ÿçš„Appä¸­ï¼Œä½¿ç”¨WebViewä½œä¸ºå®¹å™¨ç›´æ¥æ‰¿è½½Webé¡µé¢ï¼Œç›¸æ¯”ç›´æ¥è¿è¡Œåœ¨WebViewæµè§ˆå™¨ä¸Šçš„H5åº”ç”¨ï¼ŒHybridAppå°±èƒ½è°ƒç”¨åŸç”ŸAPIå’Œç»„ä»¶å®ç°ç›¸æœºã€é€šè®¯å½•ã€çŸ­ä¿¡ç­‰åŠŸèƒ½ å›¾ç‰‡å¼•ç”¨è‡ªã€ŠHybrid AppæŠ€æœ¯è§£æ -- åŸç†ç¯‡ã€‹ ç®€å•åŸç†ï¼šH5ä¸­çš„JSä»£ç é€šè¿‡JSBridgeï¼ˆæ ¸å¿ƒæ¡¥æ¢ï¼‰ä¸Nativeè¿›è¡Œæ•°æ®äº’ç›¸é€šä¿¡ï¼Œé¡µé¢è¿˜æ˜¯åœ¨Webviewæµè§ˆå™¨å¼•æ“ä¸­æ˜¾ç¤º å›¾ç‰‡å¼•ç”¨è‡ªã€ŠHybrid AppæŠ€æœ¯è§£æ -- åŸç†ç¯‡ã€‹ å›¾ç‰‡å¼•ç”¨è‡ªã€ŠHybrid APPæ¶æ„è®¾è®¡æ€è·¯ã€‹ å¼€å‘æ¡†æ¶ï¼šPhoneGapï¼ŒWex5ï¼ŒAPICloudï¼ŒIonicï¼Œquickhybrid JSBridgeæ·±åº¦å‰–æ Hybrid Appå¼€å‘è®¾è®¡ä¸å®ç° Hybrid APPæ¶æ„è®¾è®¡æ€è·¯ Hybrid AppæŠ€æœ¯è§£æ -- åŸç†ç¯‡ PerformanceHybridAppï¼ˆé«˜æ€§èƒ½æ··åˆå‹åº”ç”¨å¼€å‘æ¨¡å¼ï¼‰ ç›¸æ¯”äºé‡‡ç”¨WebViewæ¸²æŸ“çš„HybridAppï¼ŒPerformanceHybridAppæ”¹æˆè°ƒç”¨åŸç”ŸAPIæ¸²æŸ“UIè¿›è¡Œäº¤äº’é€šä¿¡ï¼Œè‡ªç„¶åœ¨æ€§èƒ½å’Œä½“éªŒä¸Šæ›´åŠ æ¥è¿‘NativeAppå½“ç„¶ä¹Ÿé¢å¤–ä¿ç•™äº†WebViewå®¹å™¨åŠŸèƒ½ å¼€å‘æ¡†æ¶ï¼šReactNativeã€Weexã€Weex Uiã€Flutterã€BindingXã€Raxã€NativeScript ç§»åŠ¨ç«¯è·¨å¹³å°å¼€å‘çš„æ·±åº¦è§£æ å…¨ç½‘æœ€å…¨ Flutter ä¸ React Native æ·±å…¥å¯¹æ¯”åˆ†æ ç½‘æ˜“ä¸¥é€‰ App æ„Ÿå— Weex å¼€å‘ ReactNative å¿«é€Ÿå…¥é—¨ç¬”è®° Weex BindingX å°é²œ å°ç¨‹åºå°ç¨‹åºçš„ä¸»è¦å¼€å‘è¯­è¨€æ˜¯ JavaScript ï¼Œå°ç¨‹åºçš„å¼€å‘åŒæ™®é€šçš„ç½‘é¡µå¼€å‘ç›¸æ¯”æœ‰å¾ˆå¤§çš„ç›¸ä¼¼æ€§ã€‚å¯¹äºå‰ç«¯å¼€å‘è€…è€Œè¨€ï¼Œä»ç½‘é¡µå¼€å‘è¿ç§»åˆ°å°ç¨‹åºçš„å¼€å‘æˆæœ¬å¹¶ä¸é«˜ï¼Œä½†æ˜¯äºŒè€…è¿˜æ˜¯æœ‰äº›è®¸åŒºåˆ«çš„ã€‚ â€‹ç½‘é¡µå¼€å‘æ¸²æŸ“çº¿ç¨‹å’Œè„šæœ¬çº¿ç¨‹æ˜¯äº’æ–¥çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé•¿æ—¶é—´çš„è„šæœ¬è¿è¡Œå¯èƒ½ä¼šå¯¼è‡´é¡µé¢å¤±å»å“åº”ï¼Œè€Œåœ¨å°ç¨‹åºä¸­ï¼ŒäºŒè€…æ˜¯åˆ†å¼€çš„ï¼Œåˆ†åˆ«è¿è¡Œåœ¨ä¸åŒçš„çº¿ç¨‹ä¸­ã€‚ç½‘é¡µå¼€å‘è€…å¯ä»¥ä½¿ç”¨åˆ°å„ç§æµè§ˆå™¨æš´éœ²å‡ºæ¥çš„ DOM APIï¼Œè¿›è¡Œ DOM é€‰ä¸­å’Œæ“ä½œã€‚è€Œå¦‚ä¸Šæ–‡æ‰€è¿°ï¼Œå°ç¨‹åºçš„é€»è¾‘å±‚å’Œæ¸²æŸ“å±‚æ˜¯åˆ†å¼€çš„ï¼Œé€»è¾‘å±‚è¿è¡Œåœ¨ JSCore ä¸­ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªå®Œæ•´æµè§ˆå™¨å¯¹è±¡ï¼Œå› è€Œç¼ºå°‘ç›¸å…³çš„DOM APIå’ŒBOM APIã€‚è¿™ä¸€åŒºåˆ«å¯¼è‡´äº†å‰ç«¯å¼€å‘éå¸¸ç†Ÿæ‚‰çš„ä¸€äº›åº“ï¼Œä¾‹å¦‚ jQueryã€ Zepto ç­‰ï¼Œåœ¨å°ç¨‹åºä¸­æ˜¯æ— æ³•è¿è¡Œçš„ã€‚åŒæ—¶ JSCore çš„ç¯å¢ƒåŒ NodeJS ç¯å¢ƒä¹Ÿæ˜¯ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥ä¸€äº› NPM çš„åŒ…åœ¨å°ç¨‹åºä¸­ä¹Ÿæ˜¯æ— æ³•è¿è¡Œçš„ã€‚ â€‹ç½‘é¡µå¼€å‘è€…éœ€è¦é¢å¯¹çš„ç¯å¢ƒæ˜¯å„å¼å„æ ·çš„æµè§ˆå™¨ï¼ŒPC ç«¯éœ€è¦é¢å¯¹ IEã€Chromeã€QQæµè§ˆå™¨ç­‰ï¼Œåœ¨ç§»åŠ¨ç«¯éœ€è¦é¢å¯¹Safariã€Chromeä»¥åŠ iOSã€Android ç³»ç»Ÿä¸­çš„å„å¼ WebView ã€‚è€Œå°ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­éœ€è¦é¢å¯¹çš„æ˜¯ä¸¤å¤§æ“ä½œç³»ç»Ÿ iOS å’Œ Android çš„å¾®ä¿¡å®¢æˆ·ç«¯ï¼Œä»¥åŠç”¨äºè¾…åŠ©å¼€å‘çš„å°ç¨‹åºå¼€å‘è€…å·¥å…·ï¼Œ å¾®ä¿¡å®˜æ–¹æ–‡æ¡£å°ç¨‹åºä¸æ™®é€šç½‘é¡µå¼€å‘çš„åŒºåˆ« å°ç¨‹åºï¼šå¾®ä¿¡å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€é’‰é’‰å°ç¨‹åºã€å­—èŠ‚è·³åŠ¨å°ç¨‹åºã€ç™¾åº¦å°ç¨‹åº å¼€å‘æ¡†æ¶ï¼šTaroã€uni-appã€Chameleonã€WePYã€mpvueã€megalo å‚è€ƒæ–‡ç« ï¼š ä»€ä¹ˆæ˜¯Nativeã€Web Appã€Hybridã€React Native å’Œ Weexï¼Ÿ quickhybrid H5å’ŒåŸç”Ÿçš„èŒè´£åˆ’åˆ† Hybrid Appå¼€å‘æ¨¡å¼ Hybrid APPæ··åˆå¼€å‘çš„ä¸€äº›ç»éªŒå’Œæ€»ç»“ å¸¸ç”¨çš„å‡ ç§APPå¼€å‘æ¨¡å¼-è„‘å›¾ æµ…è°ˆHybridæŠ€æœ¯çš„è®¾è®¡ä¸å®ç°","categories":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"IOS","slug":"IOS","permalink":"http://yoursite.com/tags/IOS/"},{"name":"Android","slug":"Android","permalink":"http://yoursite.com/tags/Android/"},{"name":"H5","slug":"H5","permalink":"http://yoursite.com/tags/H5/"},{"name":"WebView","slug":"WebView","permalink":"http://yoursite.com/tags/WebView/"},{"name":"Hybrid","slug":"Hybrid","permalink":"http://yoursite.com/tags/Hybrid/"},{"name":"Native","slug":"Native","permalink":"http://yoursite.com/tags/Native/"},{"name":"Weex","slug":"Weex","permalink":"http://yoursite.com/tags/Weex/"},{"name":"ReactNative","slug":"ReactNative","permalink":"http://yoursite.com/tags/ReactNative/"},{"name":"Flutter","slug":"Flutter","permalink":"http://yoursite.com/tags/Flutter/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://yoursite.com/tags/å°ç¨‹åº/"}],"keywords":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}]},{"title":"æˆ‘çš„å¥‡æ€å¦™æƒ³","slug":"æˆ‘çš„å¥‡æ€å¦™æƒ³","date":"2019-07-20T09:11:21.000Z","updated":"2019-07-20T19:28:51.000Z","comments":true,"path":"2019/07/20/æˆ‘çš„å¥‡æ€å¦™æƒ³/","link":"","permalink":"http://yoursite.com/2019/07/20/æˆ‘çš„å¥‡æ€å¦™æƒ³/","excerpt":"","text":"Like To Do List In The Feature. æ™ºèƒ½å®¶å±…è®¾å¤‡ ğŸ‘‰æ·‹æµ´å–·å¤´çš„æ°´æ¸©å’Œæ°´æµå¤§å°æ§åˆ¶ï¼ˆç”µå­æ•°æ˜¾ï¼Œé˜²æ°´åŠè§¦ç”µå±é™©âš ï¸ï¼‰ ä¸ªäººåšå®¢ âœï¸jsä¸­å¸¸ç”¨æ–¹æ³•çš„å®ç°ï¼ˆbindã€callã€applyã€debounceã€throttleï¼‰ âœï¸jsæ•°æ®ç»“æ„å’Œç®—æ³•åŸºç¡€ âœï¸jsè®¾è®¡æ¨¡å¼åŠåº”ç”¨ âœï¸åœ¨é‡çŸ¥å…¬å¸çš„1å¹´æ€»ç»“ ä¸ªäººé¡¹ç›® ğŸ‘‰å¾®ä¿¡å°ç¨‹åºï¼šå…³äºAppleç›¸å…³äº§å“æŠ¥ä»·ï¼Œå°ç¨‹åºÂ·äº‘å¼€å‘åŸºç¡€ç‰ˆå…è´¹æä¾›Serverless Framework ğŸ‘‰ä¸“æ³¨äºä¸ºäº’è”ç½‘è¡Œä¸šæ±‚èŒè€…æä¾›æ¨¡æ‹Ÿé¢è¯•ã€ç®€å†ä¼˜åŒ–ã€å…¬å¸ç­›é€‰ã€èƒ½åŠ›é¢„ä¼°ã€è–ªé…¬é¢„ä¼°ç­‰æœåŠ¡çš„è‰¯å¿ƒæœºæ„ ğŸ‘‰åœ¨äº”ç™¾ä¸ç®€å†ç½‘é€‰å–ä¸€ä¸ªæ¨¡ç‰ˆå¼€æºï¼ˆå‘ç°åŸç½‘ç«™æœ‰ä¸€äº›Bugï¼‰ å…´è¶£çˆ±å¥½ Motorcycleï¼ˆç›®æ ‡è½¦å‹å›¾ç‰‡å¼•ç”¨è‡ªå“ˆç½—æ‘©æ‰˜ï¼‰ é“ƒæœ¨GW250 ğŸ’°26680 â­ï¸è´¨é‡å¯é  ABS é“ƒæœ¨DL250 ğŸ’°32680 â­ï¸è´¨é‡å¯é  ABS é€‚åˆæ‘©æ—… å”®ä»·ä¸‰ä¸‡å…ƒï¼Œé“ƒæœ¨DL250ï¼Œä¸“ä¸ºçˆ±å¥½æ‘©æ—…çš„ä½ è€Œå®šåˆ¶çš„å…¬è·¯æ—…è¡Œè½¦ï¼ æ˜¥é£250NK ğŸ’°18900 â­ï¸æ€§ä»·æ¯”é«˜ ABS åŠ é€Ÿæ€§èƒ½å¥½ æ˜¥é£400NK ğŸ’°29900 â­ï¸æ€§ä»·æ¯”é«˜ ABS åŠ é€Ÿæ€§èƒ½å¥½ å·å´Z400 ğŸ’°46800 â­ï¸è´¨é‡å¯é  ABS åŠ é€Ÿæ€§èƒ½å¥½","categories":[{"name":"life","slug":"life","permalink":"http://yoursite.com/categories/life/"}],"tags":[{"name":"idea","slug":"idea","permalink":"http://yoursite.com/tags/idea/"}],"keywords":[{"name":"life","slug":"life","permalink":"http://yoursite.com/categories/life/"}]},{"title":"jséšå¼ç±»å‹è½¬æ¢å­¦ä¹ æ€»ç»“","slug":"jséšå¼ç±»å‹è½¬æ¢å­¦ä¹ æ€»ç»“","date":"2019-06-29T02:49:45.000Z","updated":"2019-07-01T15:41:16.000Z","comments":true,"path":"2019/06/29/jséšå¼ç±»å‹è½¬æ¢å­¦ä¹ æ€»ç»“/","link":"","permalink":"http://yoursite.com/2019/06/29/jséšå¼ç±»å‹è½¬æ¢å­¦ä¹ æ€»ç»“/","excerpt":"","text":"ä¸ºä»€ä¹ˆä¼šå†™è¿™ç¯‡åšå®¢ï¼Œå› ä¸ºè‡ªå·±ç±»å‹è½¬æ¢è§„åˆ™å®åœ¨è®°ä¸ä½ï¼Œç›´æ¥å…ˆçœ‹ç»ƒä¹ é¢˜ï¼Œéƒ½æ²¡é—®é¢˜å°±ç›´æ¥passã€‚ å‰ç½®çŸ¥è¯†ç‚¹ï¼š jsåŸºæœ¬æ•°æ®ç±»å‹æ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ jså¼•ç”¨æ•°æ®ç±»å‹æ¯”è¾ƒçš„æ˜¯å¼•ç”¨çš„åœ°å€æ˜¯å¦ç›¸ç­‰ ==æ¯”è¾ƒä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œ===å¿…é¡»ç±»å‹ç›¸åŒå€¼ä¹Ÿç›¸ç­‰ \b==æ¯”è¾ƒç±»å‹è½¬æ¢è§„åˆ™ï¼šåˆ˜å°å¤•ã€é¢è¯•ç¯‡ã€‘å¯’å†¬æ±‚èŒå­£ä¹‹ä½ å¿…é¡»è¦æ‡‚çš„åŸç”ŸJS(ä¸Š) é¦–å…ˆæ’é™¤ç‰¹æ®Šçš„nullï¼Œundefinedç±»å‹ï¼š 123null == undefined; // true0 == undefined; // false0 == null; // false æ¯”è¾ƒåŒæ–¹çš„ç±»å‹ç›¸åŒï¼Œåˆ™è¿›è¡Œå€¼çš„åˆ¤æ–­ï¼š 1[] == []; // falseï¼ˆç±»å‹ç›¸åŒä½†å¼•ç”¨çš„åœ°å€ä¸åŒï¼‰ æ¯”è¾ƒåŒæ–¹çš„ç±»å‹ä¸åŒï¼Œè¿›è¡Œç±»å‹è½¬æ¢ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š è‹¥å…¶ä¸­ä¸€æ–¹ä¸ºobjectä¸”å¦ä¸€æ–¹ä¸ºstringã€numberæˆ–è€…symbol, å°†objectè½¬ä¸ºåŸºæœ¬ç±»å‹å†è¿›è¡Œåˆ¤æ–­ 1234[] == ''; // true[] == 0; // true[null] == 0; // true[undefined] == 0; // true è‹¥å…¶ä¸­ä¸€æ–¹ä¸ºboolean, å°†booleanè½¬ä¸ºnumberå†è¿›è¡Œåˆ¤æ–­ 12true == 1; // truefalse == 0; // true è‹¥åŒæ–¹ç±»å‹ä¸ºstringå’Œnumber, å°†stringè½¬æ¢æˆnumber 1'12' == 12; // true \bobjectè½¬æ¢æˆåŸºæœ¬ç±»å‹è§„åˆ™ï¼šobjectè¿™ç§å¤æ‚ç±»å‹è½¬æ¢æˆåŸºæœ¬ç±»å‹æ—¶ï¼Œä¼šè°ƒç”¨å¯¹è±¡çš„valueOfå’ŒtoStringæ–¹æ³•ã€‚ 1234&#123;&#125;.toString(); // '[object Object]'[1,2,3].valueOf(); // [1,2,3][1,2,3].toString(); // '1,2,3'Object.prototype.toString.call([1,2,3]); // '[object Array]' (å¯åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„) valueOfå’ŒtoStringæ–¹æ³•è°ƒç”¨é¡ºåºï¼š è‹¥æ˜¾ç¤ºå®šä¹‰äº†[Symbol.toPrimitive]å±æ€§ï¼Œåªè°ƒç”¨è¯¥æ¥å£ï¼Œè‹¥è¿”å›çš„ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒæŠ›å‡ºé”™è¯¯ã€‚ é»˜è®¤çš„è°ƒç”¨è§„åˆ™ï¼š éDateç±»å‹å¯¹è±¡ï¼Œhintæ˜¯defaultæ—¶ï¼Œè°ƒç”¨é¡ºåºä¸ºï¼švalueOf &gt;&gt;&gt; toStringï¼Œå³valueOfè¿”å›çš„ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‰ä¼šç»§ç»­è°ƒç”¨toStringï¼Œå¦‚æœtoStringè¿”å›çš„è¿˜ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæŠ›å‡ºé”™è¯¯ã€‚ å¦‚æœhintæ˜¯string(Dateå¯¹è±¡é»˜äººçš„hintæ˜¯string) ï¼Œè°ƒç”¨é¡ºåºä¸ºï¼štoString &gt;&gt;&gt; valueOfï¼Œå³toStringè¿”å›çš„ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‰ä¼šç»§ç»­è°ƒç”¨valueOfï¼Œå¦‚æœvalueOfè¿”å›çš„è¿˜ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæŠ›å‡ºé”™è¯¯ã€‚ å¦‚æœhintæ˜¯numberï¼Œè°ƒç”¨é¡ºåºä¸ºï¼švalueOf &gt;&gt;&gt; toStringã€‚ åˆ˜å°å¤•ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ01 12(new Date()).toString(); // 'Sun Jun 30 2019 16:53:46 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'(new Date()).valueOf(); // 1561884790571 å…³äºhint, [Symbol.toPrimitive]ç¤ºä¾‹å¯è®¿é—®ä¸Šæ–‡å¼•ç”¨é“¾æ¥å…³äº[Symbol.toPrimitive]å¯å‚è€ƒï¼š- é˜®ä¸€å³°Â·ECMAScript 6 å…¥é—¨ stringè½¬æ¢æˆnumberè§„åˆ™ï¼šNumber()å’ŒparseInt()æ–¹æ³•1234Number('12abc'); // NaNNumber(undefined); // NaNNumber(null); // 0parseInt('12abc'); // 12 parseInt()ç»å…¸é¢è¯•é¢˜alentanä¸ºä»€ä¹ˆ [1, 7, 11].map(parseInt) è¿”å› [1, NaN, 3] String()å’ŒtoString()æ–¹æ³•1234undefined.toString(); // TypeError: Cannot read property 'toString' of undefinednull.toString(); // TypeError: Cannot read property 'toString' of nullString(undefined); // 'undefined'String(null); // 'null' radixä¸º2æ—¶ï¼ŒNumberObjectä¼šè¢«è½¬æ¢ä¸ºäºŒè¿›åˆ¶å€¼è¡¨ç¤ºçš„å­—ç¬¦ä¸²12var num = 13;console.log(num.toString(2)); typeofåˆ¤æ–­ç±»å‹ï¼štypeofæ–¹æ³•è¿”å›å€¼ï¼šundefined, boolean, number, string, symbol, function, object 12345678typeof null; // 'object'typeof [1,2,3]; // 'object'typeof new Boolean(true); // 'object'typeof new Number(1); // 'object'typeof new String(\"abc\"); // 'object'typeof NaN; // 'number'typeof (typeof 1); // 'string'typeof undefined; // 'undefined' ç»ƒä¹ é¢˜ []å¼€è¾Ÿäº†ä¸€å—å †å†…å­˜ï¼Œåœ°å€å­˜åœ¨æ ˆå†…å­˜ï¼Œ![]è¿”å›false 123if ([]) &#123; ... // true&#125; æ¯”è¾ƒåŒæ–¹çš„ç±»å‹ç›¸åŒï¼Œåˆ™è¿›è¡Œå€¼çš„åˆ¤æ–­ï¼Œæ ˆå†…å­˜åœ°å€ä¸åŒ 12[] == []; // false&#123;&#125; == &#123;&#125;; // false è§£é¢˜å‚è€ƒï¼š- ã€é¢è¯•ç¯‡ã€‘å¯’å†¬æ±‚èŒå­£ä¹‹ä½ å¿…é¡»è¦æ‡‚çš„åŸç”ŸJS(ä¸Š) 123[] == ![] // true&#123;&#125; == !&#123;&#125; // false&#123;&#125; == '[object Object]' // true ç–‘æƒ‘ï¼šæ–‡ä¸­æœ€åä¸€æ­¥Number([])ç¡®å®ä¸º0ï¼Œä½†æ˜¯å’Œobjectè½¬æ¢æˆåŸºæœ¬ç±»å‹è§„åˆ™ï¼šä¼¼ä¹æœ‰å†²çªã€‚ è¿ç®—ç¬¦è¿›è¡Œéšå¼ç±»å‹è½¬æ¢1234567891011121314'12' + 1; // '121'ï¼ˆStringï¼‰1 + 'true'; // '1true'1 + true; // 21 + undefined; // NaN1 + null; // 1'12' * 1; // 12ï¼ˆNumberï¼‰'12' - 1; // 11ï¼ˆNumberï¼‰'a' - 1; // NaN2 &gt; '10'; //false'2' &gt; '10'; // true'abc' &gt; 'b'; // false'abc' &gt; 'aad'; // true[] + &#123;&#125;; // '[object Object]'[] + []; // '' å­—ç¬¦ä¸²è¿æ¥ç¬¦+ï¼šåªè¦+å·ä¸¤è¾¹æœ‰ä¸€è¾¹æ˜¯å­—ç¬¦ä¸² ç®—æœ¯è¿ç®—ç¬¦+ï¼š+å·ä¸¤è¾¹éƒ½æ˜¯æ•°å­— ç‰¹æ®Šç±»å‹æ¯”è¾ƒnull, undefined, NaNçš„æ¯”è¾ƒ 123undefined == null; // trueNaN == NaN; // falseNaN == null; // false Can (a== 1 &amp;&amp; a ==2 &amp;&amp; a==3) ever evaluate to true? 123if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) &#123; // ...&#125; è§£ç­”ï¼š åˆ©ç”¨æ•°ç»„çš„toStringä¼šéšå«è°ƒç”¨Array.joinæ–¹æ³• 123a = [1,2,3];a.join = a.shift;console.log(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3); é‡å†™Objectçš„toStringæˆ–è€…valueOf 1234567const a = &#123; i: 1, toString: function () &#123; return a.i++; &#125;&#125;console.log(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3); å‚è€ƒæ–‡ç« ï¼š ã€é¢è¯•ç¯‡ã€‘å¯’å†¬æ±‚èŒå­£ä¹‹ä½ å¿…é¡»è¦æ‡‚çš„åŸç”ŸJS(ä¸Š) ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ01 [è¯‘]é€ä½ 43é“JavaScripté¢è¯•é¢˜ è€ç å†œçš„å­—èŠ‚è·³åŠ¨å‰ç«¯é¢è¯•æ€»ç»“ï¼ˆ2é¢å·²å‡‰ï¼‰ MDNÂ·typeof Js ä¸­é‚£äº› éšå¼è½¬æ¢ jsé¢è¯•é¢˜å¤§å‘â€”â€”éšå¼ç±»å‹è½¬æ¢ æœ‰æ„æ€çš„JavaScripté¢è¯•é¢˜ï¼šå¦‚ä½•è®©(a ==1 && a== 2 && a==3) çš„å€¼ä¸ºtrue","categories":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"ç±»å‹è½¬æ¢","slug":"ç±»å‹è½¬æ¢","permalink":"http://yoursite.com/tags/ç±»å‹è½¬æ¢/"}],"keywords":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}]},{"title":"jsæ‰§è¡Œä¸Šä¸‹æ–‡ã€è¯æ³•ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸç›¸å…³å­¦ä¹ ","slug":"jsæ‰§è¡Œä¸Šä¸‹æ–‡ã€è¯æ³•ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸç›¸å…³å­¦ä¹ ","date":"2019-06-26T10:07:21.000Z","updated":"2019-07-23T15:43:10.000Z","comments":true,"path":"2019/06/26/jsæ‰§è¡Œä¸Šä¸‹æ–‡ã€è¯æ³•ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸç›¸å…³å­¦ä¹ /","link":"","permalink":"http://yoursite.com/2019/06/26/jsæ‰§è¡Œä¸Šä¸‹æ–‡ã€è¯æ³•ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸç›¸å…³å­¦ä¹ /","excerpt":"","text":"JavaScriptå¼•æ“JavaScriptå¼•æ“çš„ä¸€ä¸ªæµè¡Œç¤ºä¾‹æ˜¯Googleçš„V8å¼•æ“ã€‚ä¾‹å¦‚ï¼Œåœ¨Chromeå’ŒNode.jsä¸­ä½¿ç”¨V8å¼•æ“ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªéå¸¸ç®€åŒ–çš„è§†å›¾ï¼š æµè§ˆå™¨ä¸­çš„JavaScriptè§£é‡Šå™¨æ˜¯ä½œä¸ºä¸€ä¸ªå•çº¿ç¨‹å®ç°çš„ï¼Œè¿™å®é™…ä¸Šæ„å‘³ç€ï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼Œä¸€æ¬¡åªèƒ½å‘ç”Ÿä¸€ä»¶äº‹ï¼Œå…¶ä»–æ“ä½œæˆ–äº‹ä»¶å°†æ’é˜Ÿåœ¨æ‰€è°“çš„æ‰§è¡Œå †æ ˆä¸­ã€‚ lvwxxJavaScriptä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå †æ ˆæ˜¯ä»€ä¹ˆ è¯æ³•ä½œç”¨åŸŸ å‡½æ•°ä½œç”¨åŸŸå’Œå—çº§ä½œç”¨åŸŸ å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å£°æ˜ ES5 åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚ ES5 è§„å®šï¼Œå‡½æ•°åªèƒ½åœ¨é¡¶å±‚ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜ï¼Œä¸èƒ½åœ¨å—çº§ä½œç”¨åŸŸå£°æ˜ã€‚ä½†æ˜¯ï¼Œæµè§ˆå™¨æ²¡æœ‰éµå®ˆè¿™ä¸ªè§„å®šï¼Œä¸ºäº†å…¼å®¹ä»¥å‰çš„æ—§ä»£ç ï¼Œè¿˜æ˜¯æ”¯æŒåœ¨å—çº§ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜å‡½æ•°ã€‚ ES6 çš„å—çº§ä½œç”¨åŸŸå¿…é¡»æœ‰å¤§æ‹¬å·ï¼Œå¦‚æœæ²¡æœ‰å¤§æ‹¬å·ï¼ŒJavaScript å¼•æ“å°±è®¤ä¸ºä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸã€‚ ES6 å¼•å…¥äº†å—çº§ä½œç”¨åŸŸï¼Œæ˜ç¡®å…è®¸åœ¨å—çº§ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜å‡½æ•°ã€‚ES6 è§„å®šï¼Œå—çº§ä½œç”¨åŸŸä¹‹ä¸­ï¼Œå‡½æ•°å£°æ˜è¯­å¥çš„è¡Œä¸ºç±»ä¼¼äºletï¼Œåœ¨å—çº§ä½œç”¨åŸŸä¹‹å¤–ä¸å¯å¼•ç”¨ã€‚ ä¸ºäº†å‡è½»å› æ­¤äº§ç”Ÿçš„ä¸å…¼å®¹é—®é¢˜ï¼ŒES6 åœ¨é™„å½• Bé‡Œé¢è§„å®šï¼Œæµè§ˆå™¨çš„å®ç°å¯ä»¥ä¸éµå®ˆä¸Šé¢çš„è§„å®šï¼Œæœ‰è‡ªå·±çš„è¡Œä¸ºæ–¹å¼ã€‚ å…è®¸åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ã€‚ å‡½æ•°å£°æ˜ç±»ä¼¼äºvarï¼Œå³ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸçš„å¤´éƒ¨ã€‚ åŒæ—¶ï¼Œå‡½æ•°å£°æ˜è¿˜ä¼šæå‡åˆ°æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸçš„å¤´éƒ¨ã€‚ é˜®ä¸€å³°å—çº§ä½œç”¨åŸŸ letã€constå¿…é¡»åœ¨{}å¤§æ‹¬å·åŒ…è£¹ä¸‹äº§ç”Ÿå—çº§ä½œç”¨åŸŸï¼Œæ¥æ„Ÿå—ä¸‹letå’Œvarçš„åŒºåˆ«å§ 12345678var aa = 'bb';function fn() &#123; console.log(aa); &#123; // åœ¨å—çº§ä½œç”¨åŸŸå†…varå£°æ˜å˜é‡ var aa = 'aa'; &#125;&#125;fn(); // undefined 12345678var aa = 'bb';function fn() &#123; console.log(aa); &#123; // åœ¨å—çº§ä½œç”¨åŸŸå†…letå£°æ˜å˜é‡ let aa = 'aa'; &#125;&#125;fn(); // 'bb' 123456789101112function bs() &#123; console.log(1);&#125;function fn() &#123; bs(); &#123; // åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•° function bs() &#123; console.log(2); &#125; &#125;&#125;fn(); // TypeError: bs is not a function 123456789101112function fn() &#123; let a = 1; if (true) &#123; // åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å˜é‡ a = 5; var b = 2; const c = 3; &#125; console.log(a); // 5 console.log(b); // 2 console.log(c); // ReferenceError: c is not defined&#125;fn(); 123456789101112function fn() &#123; let a = 1; if (false) &#123; // åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å˜é‡ a = 5; var b = 2; const c = 3; &#125; console.log(a); // 1 console.log(b); // undefined console.log(c); // ReferenceError: c is not defined&#125;fn(); å˜é‡æå‡æš‚æ—¶æ€§æ­»åŒºä½¿ç”¨let/constå£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸï¼Œåœ¨å£°æ˜å˜é‡ä¹‹å‰æ˜¯æ— æ³•ä½¿ç”¨è¿™ä¸ªå˜é‡çš„ï¼Œè¿™ä¸ªç‰¹ç‚¹ä¹Ÿæ˜¯ä¸ºäº†å¼¥è¡¥varçš„ç¼ºé™·ï¼ˆvarå£°æ˜çš„å˜é‡æœ‰å˜é‡æå‡ï¼‰ yeyan1996è¿‘ä¸€ä¸‡å­—çš„ES6è¯­æ³•çŸ¥è¯†ç‚¹è¡¥å…… 12console.log(aa); // ReferenceError: Cannot access 'aa' before initializationï¼‰let aa; å‰–ææš‚æ—¶æ€§æ­»åŒºçš„åŸç†ï¼Œå…¶å®let/conståŒæ ·ä¹Ÿæœ‰æå‡çš„ä½œç”¨ï¼Œä½†æ˜¯å’Œvarçš„åŒºåˆ«åœ¨äºï¼š varåœ¨åˆ›å»ºæ—¶å°±è¢«åˆå§‹åŒ–ï¼Œå¹¶ä¸”èµ‹å€¼ä¸ºundefined let/conståœ¨è¿›å…¥å—çº§ä½œç”¨åŸŸåï¼Œä¼šå› ä¸ºæå‡çš„åŸå› å…ˆåˆ›å»ºï¼Œä½†ä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œç›´åˆ°å£°æ˜è¯­å¥æ‰§è¡Œçš„æ—¶å€™æ‰è¢«åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–çš„æ—¶å€™å¦‚æœä½¿ç”¨letå£°æ˜çš„å˜é‡æ²¡æœ‰èµ‹å€¼ï¼Œåˆ™ä¼šé»˜è®¤èµ‹å€¼ä¸ºundefinedï¼Œè€Œconstå¿…é¡»åœ¨åˆå§‹åŒ–çš„æ—¶å€™èµ‹å€¼ã€‚è€Œåˆ›å»ºåˆ°åˆå§‹åŒ–ä¹‹é—´çš„ä»£ç ç‰‡æ®µå°±å½¢æˆäº†æš‚æ—¶æ€§æ­»åŒº yeyan1996è¿‘ä¸€ä¸‡å­—çš„ES6è¯­æ³•çŸ¥è¯†ç‚¹è¡¥å…… ES6 Class ä¸å­˜åœ¨å˜é‡æå‡1234console.log(Test); // ReferenceError: Cannot access 'Test' before initializationclass Test &#123; // ...&#125; è§£é‡Šå™¨å¦‚ä½•è¯„ä¼°JSä»£ç ï¼ˆevaluateï¼‰ æ‰«æè¢«è°ƒç”¨å‡½æ•°ä¸­çš„ä»£ç  åœ¨ä»£ç æ‰§è¡Œå‰ï¼Œåˆ›å»ºæ‰§è¡Œä¸Šæ–‡ è¿›å…¥åˆ›å»ºé˜¶æ®µ åˆå§‹åŒ–ä½œç”¨åŸŸé“¾ åˆ›å»ºå˜é‡å¯¹è±¡ åˆ›å»ºargumentså¯¹è±¡ï¼Œæ£€æŸ¥å‚æ•°ä¸Šä¸‹æ–‡ï¼Œåˆå§‹åŒ–åç§°å’Œå€¼ï¼Œå¹¶åˆ›å»ºå¼•ç”¨å‰¯æœ¬ æ‰«æä¸Šä¸‹æ–‡ä¸­å‡½æ•°çš„å£°æ˜ å¯¹äºæ‰¾åˆ°çš„æ¯ä¸ªå‡½æ•°ï¼Œåœ¨å˜é‡å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§æ˜¯ç¡®åˆ‡çš„å‡½æ•°åï¼Œè¯¥å‡½æ•°åœ¨å†…å­˜ä¸­æœ‰ä¸€ä¸ªæŒ‡å‘è¯¥å‡½æ•°çš„å¼•ç”¨æŒ‡é’ˆ å¦‚æœå‡½æ•°åå·²ç»å­˜åœ¨ï¼ŒæŒ‡é’ˆå°†ä¼šè¢«è¦†ç›– æ‰«æå˜é‡çš„å£°æ˜ å¯¹äºæ‰¾åˆ°çš„æ¯ä¸ªå˜é‡ï¼Œåœ¨å˜é‡å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§æ˜¯ç¡®åˆ‡çš„å˜é‡åï¼Œè¯¥å˜é‡çš„å€¼æ˜¯undefined å¦‚æœå˜é‡åå·²ç»å­˜åœ¨ï¼Œå°†ä¸ä¼šåšä»»ä½•å¤„ç†ç»§ç»­æ‰§è¡Œ å†³å®šthisçš„å€¼ ä»£ç æ‰§è¡Œé˜¶æ®µ å˜é‡èµ‹å€¼ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œä»£ç  lvwxxJavaScriptä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå †æ ˆæ˜¯ä»€ä¹ˆ ç»“åˆè‡ªèº«çš„æ„Ÿæ‚Ÿå¦‚ä¸‹ï¼š çŸ¥é“äº†jsä»£ç æ‰§è¡Œå‰æœ‰é¢„ç¼–è¯‘è¿™ä¹ˆä¸€å›äº‹ï¼Œä¹Ÿå°±èƒ½æŒæ¡å˜é‡æå‡ï¼Œè§£é‡Šå™¨æ ¹æ®var, functionç­‰å…³é”®å­—è¿›è¡Œé¢„ç¼–è¯‘ï¼Œfunctionå£°æ˜æ•´ä½“å‰ç½®ï¼Œvarå£°æ˜å˜é‡å¹¶èµ‹å€¼ä¸ºundefinedï¼Œä½“ç°äº†functionæ˜¯ä¸€ç­‰å…¬æ°‘ 12345678910111213141516(function() &#123;console.log(foo); // foo() &#123; return 'hello'; &#125;console.log(bar); // undefinedvar bar = function() &#123; return 'world';&#125;;var foo = 'hello';function foo() &#123; return 'hello';&#125;console.log(foo); // 'hello'&#125;());â€‹ è¯æ³•ä½œç”¨åŸŸå†³å®šäº†å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä½œç”¨åŸŸï¼Œè·Ÿå‡½æ•°åœ¨å“ªè°ƒç”¨æ²¡æœ‰å…³ç³»ï¼ˆthisåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸æŒ‡å‘å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸï¼Œthisæ˜¯åœ¨å‡½æ•°è¿è¡Œæ—¶ï¼Œåˆ›å»ºä¸Šä¸‹æ–‡çš„æ—¶å€™ç¡®å®šçš„ï¼‰ 12345678910111213141516171819function a() &#123; var myOtherVar = \"inside A\"; b();&#125;function b() &#123; var myVar = \"inside B\"; console.log(\"myOtherVar:\", myOtherVar); // 'global otherVar' function c() &#123; console.log(\"myVar:\", myVar); // 'inside B' &#125; c();&#125;var myOtherVar = \"global otherVar\";var myVar = \"global myVar\";a(); æ‰§è¡Œä¸Šä¸‹æ–‡æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šå½“å‰ä»£ç æ­£åœ¨æ‰§è¡Œçš„ç¯å¢ƒï¼ˆä½œç”¨åŸŸï¼‰ï¼Œä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š å…¨å±€ä»£ç  â€“ ä»£ç é¦–æ¬¡å¼€å§‹æ‰§è¡Œçš„é»˜è®¤ç¯å¢ƒ å‡½æ•°ä»£ç  â€“ æ¯å½“è¿›å…¥ä¸€ä¸ªå‡½æ•°å†…éƒ¨ Evalä»£ç  â€“ evalå†…éƒ¨ä»£ç æ‰§è¡Œæ—¶ lvwxxJavaScriptä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå †æ ˆæ˜¯ä»€ä¹ˆ Nothing special is going on here, we have 1 global context represented by the purple border and 3 different function contexts represented by the green, blue and orange borders. There can only ever be 1 global context, which can be accessed from any other context in your program. You can have any number of function contexts, and each function call creates a new context, which creates a private scope where anything declared inside of the function can not be directly accessed from outside the current function scope. In the example above, a function can access a variable declared outside of its current context, but an outside context can not access the variables / functions declared inside.ï¼ˆç†è§£ä¸ºä½œç”¨åŸŸé“¾ï¼‰ David Shariffwhat-is-the-execution-context-in-javascript ç°åœ¨æˆ‘ä»¬çŸ¥é“æ¯å½“æœ‰å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚åœ¨jså†…éƒ¨ï¼Œæ¯ä¸ªæ‰§è¡Œä¸Šæ–‡åˆ›å»ºéƒ½è¦ç»å†ä¸‹é¢2ä¸ªé˜¶æ®µï¼š åˆ›å»ºé˜¶æ®µï¼ˆå‡½æ•°è¢«è°ƒç”¨ï¼Œä½†è¿˜æ²¡æœ‰æ‰§è¡Œå†…éƒ¨ä»£ç ï¼‰ åˆ›å»ºä½œç”¨åŸŸé“¾ åˆ›å»ºå˜é‡å’Œå‚æ•° å†³å®šthisæŒ‡å‘ ä»£ç æ‰§è¡Œé˜¶æ®µ å˜é‡èµ‹å€¼ï¼Œæ‰§è¡Œä»£ç  lvwxxJavaScriptä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå †æ ˆæ˜¯ä»€ä¹ˆ this å…¨é¢è§£æ æ¨èé˜…è¯»ï¼šåˆ˜å°å¤• - å—¨ï¼Œä½ çœŸçš„æ‡‚thiså—ï¼Ÿ é—­åŒ… å‚è€ƒæ–‡ç« ï¼š JavaScriptä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå †æ ˆæ˜¯ä»€ä¹ˆ JavaScriptæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼šå¼•æ“ï¼Œè¿è¡Œæ—¶å’Œè°ƒç”¨å †æ ˆçš„æ¦‚è¿°ï¼ 5åˆ†é’Ÿè¯»æ‡‚JavaScripté¢„ç¼–è¯‘ JavaScript ç©¶ç«Ÿæ˜¯æ€æ ·æ‰§è¡Œçš„ï¼Ÿ ç²¾è¯»ã€Šä½ ä¸çŸ¥é“çš„ javascriptï¼ˆä¸Šå·ï¼‰ã€‹ ç²¾è¯»ã€Šä½ ä¸çŸ¥é“çš„ javascriptï¼ˆä¸­å·ï¼‰ã€‹ What is the Execution Context & Stack in JavaScript? ä½ ä¸å¯ä¸çŸ¥é“çš„ JavaScript ä½œç”¨åŸŸå’Œé—­åŒ… JSå‡½æ•°ä½œç”¨åŸŸä»¥åŠå˜é‡æå‡é—®é¢˜ å—çº§ä½œç”¨åŸŸï¼ˆé˜®ä¸€å³°Â·ECMAScript 6 å…¥é—¨ï¼‰","categories":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"ç¼–è¯‘","slug":"ç¼–è¯‘","permalink":"http://yoursite.com/tags/ç¼–è¯‘/"},{"name":"ä½œç”¨åŸŸ","slug":"ä½œç”¨åŸŸ","permalink":"http://yoursite.com/tags/ä½œç”¨åŸŸ/"}],"keywords":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}]},{"title":"jsåŸå‹ã€åŸå‹é“¾ã€ç»§æ‰¿ç›¸å…³å­¦ä¹ å¿ƒå¾—","slug":"jsåŸå‹ã€åŸå‹é“¾ã€ç»§æ‰¿ç›¸å…³å­¦ä¹ å¿ƒå¾—","date":"2019-06-20T03:24:22.000Z","updated":"2019-06-26T11:45:36.000Z","comments":true,"path":"2019/06/20/jsåŸå‹ã€åŸå‹é“¾ã€ç»§æ‰¿ç›¸å…³å­¦ä¹ å¿ƒå¾—/","link":"","permalink":"http://yoursite.com/2019/06/20/jsåŸå‹ã€åŸå‹é“¾ã€ç»§æ‰¿ç›¸å…³å­¦ä¹ å¿ƒå¾—/","excerpt":"","text":"å‰ç½®çŸ¥è¯†ç‚¹ï¼š jsåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ï¼ˆåŸºæœ¬æ•°æ®ç±»å‹æœ‰ï¼š null, undefined, Boolen, Number, String, Symbolï¼‰ è®¡ç®—æœºå †ã€æ ˆå†…å­˜ï¼ˆæ ˆå†…å­˜å­˜çš„æ˜¯åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åœ°å€ï¼Œå †å†…å­˜ç”±äºæ ‘çŠ¶ç»“æ„å¯ä»¥å»¶ä¼¸é€‚åˆå¼•ç”¨ç±»å‹å¦‚Array, Objectï¼‰ jsä¸­thisæŒ‡å‘åŠbindï¼Œcallï¼Œapplyæ–¹æ³•ä½¿ç”¨ï¼Œå‚é˜…callã€applyå’Œbindçš„å®ç° å¼•ç”Ÿæ€è€ƒç‚¹ jsè¯­è¨€åŸå‹å’ŒåŸå‹é“¾ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Œå¥½å¤„ä¸ä¸å¥½ä¹‹å¤„ï¼Œä¸Javaè¯­è¨€æœ€å¤§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ æµ…æ‹·è´ä¸æ·±æ‹·è´å¦‚ä½•å®ç°ï¼Ÿ jsé—­åŒ…çŸ¥è¯†ç‚¹ jsåŸå‹ã€åŸå‹é“¾åŸºæœ¬æ¦‚å¿µES5 å’Œ ES6 ç»§æ‰¿çš„åŒºåˆ« ES5åŸå‹é“¾ç»§æ‰¿ 12345678910111213141516171819function Super() &#123; this.xxx = 'hello world!';&#125;Super.prototype.sayHello = function() &#123; console.log(this.xxx);&#125;function Son() &#123; // ...&#125;Son.prototype = new Super(); // åŸå‹é“¾å¼ç»§æ‰¿// Son.prototype = Object.create(Super.prototype);Son.prototype.constructor = Son; // ä¿®å¤constructorvar sonInstance = new Son();console.log(sonInstance.xxx); // 'hello world!'; ç‰¹ç‚¹ï¼š éå¸¸çº¯ç²¹çš„ç»§æ‰¿å…³ç³»ï¼Œå®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹instanceofæ–¹æ³•é€šè¿‡å±‚å±‚æŸ¥æ‰¾åŸå‹é“¾åˆ¤æ–­çš„ ç¼ºç‚¹ï¼š æ¥è‡ªåŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº« åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ ES6ç»§æ‰¿ 12345678910111213141516class Super &#123; constructor() &#123; this.xxx = 'hello world!'; &#125; sayHello() &#123; console.log(this.xxx); &#125;&#125;class Son extends Super &#123; // ...&#125;var sonInstance = new Son();console.log(sonInstance.xxx); // 'hello world!'; ES6ç»§æ‰¿å’ŒåŸå‹é“¾å¼ç»§æ‰¿è¿˜æ˜¯æœ‰æœ¬è´¨åŒºåˆ«çš„ï¼ŒES6ä¸­ Son ç±»å®ä¾‹æ˜¯è‡ªå·±æœ¬èº«æ‹¥æœ‰äº†xxxå±æ€§çš„ï¼Œå› ä¸ºåœ¨å­ç±»çš„constructoræ„é€ å‡½æ•°ä¸­è¿è¡Œsuper()æ–¹æ³•è°ƒç”¨äº†çˆ¶ç±»æ„é€ å‡½æ•°ï¼ˆES5çš„è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ç»§æ‰¿ï¼‰ ES6ä¸­æ–¹æ³•éƒ½æ˜¯ä¸å¯æšä¸¾çš„ï¼ŒSon ç±»å®ä¾‹è°ƒç”¨ sayHello æ–¹æ³•å’ŒåŸå‹å¼ç»§æ‰¿åŸç†ç±»ä¼¼ ES5ä¸­æ„é€ å‡½æ•°æ˜¯functionå‡½æ•°æœ¬èº«ï¼Œè€ŒES6ä¸­æ„é€ å‡½æ•°æ˜¯ constructor å‡½æ•° å…³äºES6 class å¯ä»¥é‡å¼€ä¸€ç¯‡åšå®¢äº†, å…ˆæ¨èé˜…è¯»ä¸¤ç¯‡æ–‡ç«  ES6 javascriptä¸­classé™æ€æ–¹æ³•ã€å±æ€§ä¸å®ä¾‹å±æ€§ç”¨æ³•ç¤ºä¾‹ reactç»„ä»¶ä¸­çš„constructorå’Œsuperå°çŸ¥è¯† ä»¥ä¸Šå›¾ç‰‡å¼•ç”¨è‡ªkeenwon.com å®ç°ES6çš„classè¯­æ³•ï¼ˆ2019-06-26Â·è¡¥å……ï¼‰123456789101112function inherit(subType, superType) &#123; subType.prototype = Object.create(superType.prototype, &#123; constructor: &#123; enumerable: false, configurable: true, writable: true, value: subType, &#125; &#125;); Object.setPrototypeOf(subType, superType);&#125; ES6 çš„ class å†…éƒ¨æ˜¯åŸºäºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼Œå®ƒæ˜¯ç›®å‰æœ€ç†æƒ³çš„ç»§æ‰¿æ–¹å¼ï¼Œé€šè¿‡ Object.create æ–¹æ³•åˆ›é€ ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¹¶å°†è¿™ä¸ªç©ºå¯¹è±¡ç»§æ‰¿ Object.create æ–¹æ³•çš„å‚æ•°ï¼Œå†è®©å­ç±»ï¼ˆsubTypeï¼‰çš„åŸå‹å¯¹è±¡ç­‰äºè¿™ä¸ªç©ºå¯¹è±¡ï¼Œå°±å¯ä»¥å®ç°å­ç±»å®ä¾‹çš„åŸå‹ç­‰äºè¿™ä¸ªç©ºå¯¹è±¡ï¼Œè€Œè¿™ä¸ªç©ºå¯¹è±¡çš„åŸå‹åˆç­‰äºçˆ¶ç±»åŸå‹å¯¹è±¡ï¼ˆsuperType.prototypeï¼‰çš„ç»§æ‰¿å…³ç³» è€Œ Object.create æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œå³ç»™ç”Ÿæˆçš„ç©ºå¯¹è±¡å®šä¹‰å±æ€§å’Œå±æ€§æè¿°ç¬¦/è®¿é—®å™¨æè¿°ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç»™è¿™ä¸ªç©ºå¯¹è±¡å®šä¹‰ä¸€ä¸ª constructor å±æ€§æ›´åŠ ç¬¦åˆé»˜è®¤çš„ç»§æ‰¿è¡Œä¸ºï¼ŒåŒæ—¶å®ƒæ˜¯ä¸å¯æšä¸¾çš„å†…éƒ¨å±æ€§ï¼ˆenumerable:falseï¼‰ è€Œ ES6 çš„ class å…è®¸å­ç±»ç»§æ‰¿çˆ¶ç±»çš„é™æ€æ–¹æ³•å’Œé™æ€å±æ€§ï¼Œè€Œæ™®é€šçš„å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿åªèƒ½åšåˆ°å®ä¾‹ä¸å®ä¾‹ä¹‹é—´çš„ç»§æ‰¿ï¼Œå¯¹äºç±»ä¸ç±»ä¹‹é—´çš„ç»§æ‰¿éœ€è¦é¢å¤–å®šä¹‰æ–¹æ³•ï¼Œè¿™é‡Œä½¿ç”¨ Object.setPrototypeOf å°† superType è®¾ç½®ä¸º subType çš„åŸå‹ï¼Œä»è€Œèƒ½å¤Ÿä»çˆ¶ç±»ä¸­ç»§æ‰¿é™æ€æ–¹æ³•å’Œé™æ€å±æ€§ yeyan1996ä¸€ä¸ªåˆæ ¼çš„ä¸­çº§å‰ç«¯å·¥ç¨‹å¸ˆå¿…é¡»è¦æŒæ¡çš„28ä¸ªJavaScriptæŠ€å·§ ES5å®ç°ç»§æ‰¿çš„å…¶å®ƒæ–¹å¼è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ç»§æ‰¿123456789101112131415function Super(xxx) &#123; this.xxx = xxx;&#125;Super.prototype.sayHello = function() &#123; console.log(this.xxx);&#125;function Son() &#123; Super.call(this, 'hello world!'); // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°&#125;var sonInstance = new Son();console.log(sonInstance.xxx); // 'hello world!';sonInstance.sayHello(); // TypeError: sonInstance.sayHello is not a function ç‰¹ç‚¹ï¼š åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•° ç¼ºç‚¹ï¼š å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹ åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³• æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ ç»„åˆç»§æ‰¿12345678910111213141516171819function Super(xxx) &#123; this.xxx = xxx;&#125;Super.prototype.sayHello = function() &#123; console.log(this.xxx);&#125;function Son() &#123; Super.call(this, 'hello world!'); // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°&#125;Son.prototype = new Super();Son.prototype.constructor = Son; // ä¿®å¤constructorvar sonInstance = new Son();console.log(sonInstance.xxx); // 'hello world!';sonInstance.sayHello(); // 'hello world!'; ç‰¹ç‚¹ï¼š åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•° æ—¢æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ å®ä¾‹æ‹¥æœ‰ä¸çˆ¶ç±»åŒåçš„è‡ªå·±çš„å±æ€§ï¼ˆäº¦æ˜¯ç¼ºç‚¹ï¼‰ æ—¢èƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œåˆèƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³• ç¼ºç‚¹ï¼š è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå­ç±»å®ä¾‹ä¸Šå±æ€§å°†å­ç±»åŸå‹ä¸Šçš„é‚£ä»½å±è”½äº† å¯„ç”Ÿç»„åˆç»§æ‰¿12345678910111213141516171819function Super(xxx) &#123; this.xxx = xxx;&#125;function Son(xxx) &#123; Super.call(this, xxx); // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°&#125;// åˆ›å»ºä¸€ä¸ªç©ºæ–¹æ³•ï¼Œé¿å…å†æ¬¡è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°(function () &#123; var Temp = function() &#123;&#125;; Temp.prototype = Super.prototype; Son.prototype = new Temp();&#125;)();Son.prototype.constructor = Son; // ä¿®å¤constructorvar sonInstance = new Son('hello world!');console.log(sonInstance.xxx); // 'hello world!'; ç‰¹ç‚¹ï¼š ç»“åˆä»¥ä¸Šæ‰€æœ‰ç»§æ‰¿æ–¹å¼çš„ä¼˜ç‚¹ å®Œæ•´çš„åŸå‹å›¾ å‚è€ƒæ–‡ç« ï¼š å®Œæ•´åŸå‹é“¾è¯¦ç»†å›¾è§£ï¼ˆæ„é€ å‡½æ•°ã€åŸå‹ã€å®ä¾‹åŒ–å¯¹è±¡ï¼‰ JSå®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼ è¯¦è§£ES5å’ŒES6çš„ç»§æ‰¿","categories":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"åŸå‹","slug":"åŸå‹","permalink":"http://yoursite.com/tags/åŸå‹/"},{"name":"ç»§æ‰¿","slug":"ç»§æ‰¿","permalink":"http://yoursite.com/tags/ç»§æ‰¿/"}],"keywords":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}]},{"title":"å‰ç«¯é¢è¯•å¿…è€ƒé¢˜Promiseçš„æºç è§£æ","slug":"å‰ç«¯é¢è¯•å¿…è€ƒé¢˜Promiseçš„æºç è§£æ","date":"2019-06-18T09:55:45.000Z","updated":"2019-06-19T08:20:32.000Z","comments":true,"path":"2019/06/18/å‰ç«¯é¢è¯•å¿…è€ƒé¢˜Promiseçš„æºç è§£æ/","link":"","permalink":"http://yoursite.com/2019/06/18/å‰ç«¯é¢è¯•å¿…è€ƒé¢˜Promiseçš„æºç è§£æ/","excerpt":"","text":"è€ƒå¯ŸçŸ¥è¯†ç‚¹ï¼š jsè¿­ä»£å™¨ jsæ„é€ å‡½æ•°ã€åŸå‹ã€åŸå‹é“¾ jsæ‰§è¡Œæ ˆã€äº‹ä»¶å¾ªç¯æœºåˆ¶ ä¼ªæºç å®ç°ï¼šPromiseæ„é€ å‡½æ•° åˆ›å»ºä¸€ä¸ªPromiseå®ä¾‹ï¼Œé€šè¿‡newä¸€ä¸ªPromiseï¼ˆæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼‰ï¼Œè¯¥å‡½æ•°æ¥å—resolve, rejectä¸¤ä¸ªæ–¹æ³•ä½œä¸ºå‚æ•°ã€‚ æ¯ä¸ªPromiseåªæœ‰ä¸‰ç§çŠ¶æ€ï¼špendingï¼Œfulfilled å’Œ rejectedï¼ŒçŠ¶æ€åªèƒ½ä» pending è½¬ç§»åˆ° fulfilled æˆ–è€… rejectedï¼Œä¸€æ—¦çŠ¶æ€å˜æˆfulfilled æˆ–è€… rejectedï¼Œå°±ä¸èƒ½å†æ›´æ”¹å…¶çŠ¶æ€ã€‚ 123456789101112131415161718192021222324252627282930function Promise3(executor) &#123; const self = this; self.status = 'pending'; self.value = undefined; self.reason = undefined; self.onResolvedCallbacks = []; self.onRejectedCallbacks = []; function resolve(value) &#123; if (self.status === 'pending') &#123; self.status = 'resolved'; self.value = value; self.onResolvedCallbacks.forEach(fn =&gt; fn()); &#125; &#125; function reject(reason) &#123; if (self.status === 'pending') &#123; self.status = 'rejected'; self.reason = reason; self.onRejectedCallbacks.forEach(fn =&gt; fn()); &#125; &#125; try &#123; executor(resolve, reject); &#125; catch (e) &#123; reject(e); &#125;&#125; å®šä¹‰åœ¨PromiseåŸå‹ä¸Šæ–¹æ³•thenï¼Œå¯è¢«å®ä¾‹è°ƒç”¨ é€šè¿‡åˆ¤æ–­ä¸Šä¸€ä¸ªPromiseçš„çŠ¶æ€æ‰§è¡Œä¸åŒçš„ä»£ç  æ­£å¸¸æƒ…å†µä¸‹ç¬¬ä¸€ä¸ªPromiseæ‰§è¡Œå™¨ä¸­æ˜¯å¼‚æ­¥ä»£ç ï¼Œä¼šå…ˆæ‰§è¡Œthen()å‡½æ•°ï¼Œthenå‡½æ•°ä¸¤ä¸ªå‚æ•°onFulfilledï¼ŒonRejectedä¼šè¢«æš‚å­˜åˆ°onResolvedCallbacksï¼ŒonRejectedCallbacksä¸­ï¼Œåœ¨ç¬¬ä¸€æ­¥çš„å¼‚æ­¥æ‰§è¡Œå™¨executor(resolve, reject)ä¸­å®Œæˆæ‰§è¡Œ ä¸ºäº†å®ç°Promiseçš„é“¾å¼è°ƒç”¨ï¼Œåœ¨thenæ–¹æ³•ä¸­return promiseï¼Œæ‰€ä»¥åœ¨new Promiseçš„æ‰§è¡Œå™¨ä¸­æ‰‹åŠ¨åŠ äº†setTimeoutå®ç°å¼‚æ­¥æ‰§è¡Œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455Promise3.prototype.then = function (onFulfilled, onRejected) &#123; onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : value =&gt; value; onRejected = typeof onRejected === 'function' ? onRejected : err =&gt; &#123; throw err &#125;; const self = this; let promise2; if (self.status === 'resolved') &#123; promise2 = new Promise3(function(resolve, reject) &#123; setTimeout(function () &#123; try &#123; let x = onFulfilled(self.value); resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; reject(e); &#125; &#125;); &#125;); &#125; if (self.status === 'rejected') &#123; promise2 = new Promise3(function(resolve, reject) &#123; setTimeout(function () &#123; try &#123; let x = onRejected(self.reason); resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; reject(e); &#125; &#125;); &#125;); &#125; if (self.status === 'pending') &#123; promise2 = new Promise3(function(resolve, reject) &#123; self.onResolvedCallbacks.push(function () &#123; setTimeout(function() &#123; try &#123; let x = onFulfilled(self.value); resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; onRejected(e); &#125; &#125;); &#125;); self.onRejectedCallbacks.push(function () &#123; setTimeout(function() &#123; try &#123; let x = onRejected(self.reason); resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; onRejected(e); &#125; &#125;); &#125;); &#125;); &#125; return promise2;&#125; å®šä¹‰resolvePromiseæ–¹æ³• ä¸Šä¸€ä¸ªPromiseè¿”å›å€¼æœ‰3ä¸­æƒ…å†µï¼ˆä¹Ÿæ˜¯è¯¥å‡½æ•°å–åçš„ç¼˜ç”±ï¼‰ æ™®é€šå€¼ promiseå¯¹è±¡ thenableå¯¹è±¡/å‡½æ•° é€šè¿‡è‡ªèº«è¿­ä»£å’Œåœ¨thenæ–¹æ³•ä¸­çš„å¼•ç”¨ï¼Œç›´è‡³è¿”å›resolveæ™®é€šå€¼æˆ–è€…æŠ¥é”™ 12345678910111213141516171819202122232425262728293031function resolvePromise(promise2, x, resolve, reject) &#123; if (promise2 === x) &#123; return reject(new TypeError('Chaining cycle')); // å¾ªç¯å¼•ç”¨æŠ¥é”™ &#125; let called; if (x &amp;&amp; (typeof x === 'object' || typeof x === 'function')) &#123; try &#123; let then = x.then; if (typeof then === 'function') &#123; then.call(x, function(y) &#123; if (called) return; called = true; resolvePromise(promise2, y, resolve, reject); &#125;, function(err) &#123; if (called) return; called = true; reject(err); &#125;); &#125; else &#123; resolve(x); &#125; &#125; catch (e) &#123; if (called) return; called = true; reject(e); &#125; &#125; else &#123; resolve(x); &#125;&#125; Promiseçš„é™æ€æ–¹æ³•åŠå…¶å®ƒæ–¹æ³•ï¼šPromise.resolve1234567891011121314Promise.resolve = function (param) &#123; if (param instanceof Promise) &#123; return param; &#125; return new Promise((resolve, reject) =&gt; &#123; if (param &amp;&amp; param.then &amp;&amp; typeof param.then === 'function') &#123; setTimeout(() =&gt; &#123; param.then(resolve, reject); &#125;); &#125; else &#123; resolve(param); &#125; &#125;);&#125; Promise.reject12345Promise.reject = function (reason) &#123; return new Promise((resolve, reject) =&gt; &#123; reject(reason); &#125;);&#125; Promise.prototype.catch123Promise.prototype.catch = function (onRejected) &#123; return this.then(null, onRejected);&#125; Promise.prototype.finally1234567891011Promise.prototype.catch = function (callback) &#123; return this.then((value) =&gt; &#123; return Promise.resolve(callback()).then(() =&gt; &#123; return value; &#125;); &#125;, (err) =&gt; &#123; return Promise.resolve(callback()).then(() =&gt; &#123; throw err; &#125;); &#125;);&#125; Promise.all123456789101112131415161718192021222324Promise.all = function (promises) &#123; return new Promise((resolve, reject) =&gt; &#123; let index = 0; let result = []; if (promises.length === 0) &#123; resolve(result); &#125; else &#123; function processValue(i, data) &#123; result[i] = data; if (++index === promises.length) &#123; resolve(result); &#125; &#125; promises.forEach((promise, i) =&gt; &#123; Promise.resolve(promise).then((data) =&gt; &#123; processValue(i, data); &#125;, (err) =&gt; &#123; reject(err); return; &#125;); &#125;); &#125; &#125;);&#125; Promise.race1234567891011121314151617Promise.race = function (promises) &#123; return new Promise((resolve, reject) =&gt; &#123; if (promises.length === 0) &#123; return; &#125; else &#123; promises.forEach((promise, i) =&gt; &#123; Promise.resolve(promise).then((data) =&gt; &#123; resolve(data); return; &#125;, (err) =&gt; &#123; reject(err); return; &#125;); &#125;); &#125; &#125;);&#125; promiseæµ‹è¯•åº“12npm install promises-aplus-tests -Dnpx promises-aplus-tests promise.js å‚è€ƒæ–‡ç« ï¼š Promise/A+ è§„èŒƒæ–‡æ¡£ Promiseè¯¦è§£ä¸å®ç°ï¼ˆPromise/A+è§„èŒƒï¼‰ æ‰‹å†™å®ç°æ»¡è¶³ Promise/A+ è§„èŒƒçš„ Promise Promiseçš„æºç å®ç°ï¼ˆå®Œç¾ç¬¦åˆPromise/A+è§„èŒƒï¼‰ æ‰‹åŠ¨å®ç°ä¸€ä¸ªæ»¡è¶³promises-aplus-testsçš„Promise","categories":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"Promise","slug":"Promise","permalink":"http://yoursite.com/tags/Promise/"}],"keywords":[{"name":"font-end","slug":"font-end","permalink":"http://yoursite.com/categories/font-end/"}]},{"title":"è¯»æé£é£äººç‰©å¿—æœ‰æ„Ÿ","slug":"è¯»æé£é£äººç‰©å¿—æœ‰æ„Ÿ","date":"2019-06-04T08:32:44.000Z","updated":"2019-06-21T07:44:36.000Z","comments":true,"path":"2019/06/04/è¯»æé£é£äººç‰©å¿—æœ‰æ„Ÿ/","link":"","permalink":"http://yoursite.com/2019/06/04/è¯»æé£é£äººç‰©å¿—æœ‰æ„Ÿ/","excerpt":"","text":"20ä¸–çºª70å¹´ä»£ï¼Œæé£é£ç”Ÿäºæˆéƒ½ã€‚ é‚£æ—¶çš„æˆéƒ½ï¼Œè¿œæ²¡æœ‰ä»Šå¤©ç¹åã€‚ä½†æ˜¯ï¼Œæé£é£çš„çˆ¶æ¯ç‰¹åˆ«æ³¨é‡åŸ¹å…»å¥¹çš„å¥½å¥‡å¿ƒï¼Œä¸€æœ‰å±•è§ˆå°±å¸¦å¥¹å»ï¼Œè®©å¥¹æ¥è§¦åˆ°æ›´å¤§çš„ä¸–ç•Œã€æ›´æ–°å¥‡çš„äº‹ç‰©ã€‚ åŒæ—¶ï¼Œå®¶é‡Œè¿˜æœ‰ä¸€æ¡å¾ˆæœ‰è¶£çš„å®¶è§„ï¼šæé£é£æ”¾å­¦å›å®¶ååªèƒ½åœ¨40åˆ†é’Ÿå†…åšä½œä¸šï¼Œ40åˆ†é’Ÿåå°±å¯ä»¥çœ‹è¯¾å¤–ä¹¦ã€å¯ä»¥ç©ï¼Œå¹²å•¥éƒ½å¯ä»¥ï¼Œä½†å°±æ˜¯ä¸èƒ½å†åšä½œä¸šã€‚ çˆ¶æ¯æ­¤ä¸¾ï¼Œå°±æ˜¯ä¸ºäº†è®©æé£é£å…»æˆä¸“æ³¨é«˜æ•ˆçš„ä¹ æƒ¯ï¼Œåšäº‹ä¸æ‹–å»¶ï¼Œä¸å·¦é¡¾å³ç›¼ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥ä¸ºè‡ªå·±ç•™å‡ºå……è¶³æ—¶é—´ï¼Œåšè‡ªå·±æ„Ÿå…´è¶£çš„äº‹ã€‚ ç¨‹åºäººç”Ÿå¥¹æ‹’ç»éº¦è‚¯é”¡ Offerï¼Œå»ºç«‹å›¾ç‰‡è®­ç»ƒæ•°æ®åº“ï¼Œæ–¯å¦ç¦ AI å®éªŒå®¤è´Ÿè´£äºº | äººç‰©å¿— ä¸ºè¿™ç§æ•™è‚²æ–¹å¼ç‚¹èµï¼Œç›¸æ¯”è¿‘æœŸè¢«æ¨åˆ°çƒ­ç‚¹æ–°é—»çš„996ä¸Šç­åˆ¶åº¦ï¼Œå·¥ä½œæ•ˆç‡æ‰æ˜¯åº”è¯¥æé«˜çš„æ–¹å‘ã€‚","categories":[{"name":"life","slug":"life","permalink":"http://yoursite.com/categories/life/"}],"tags":[{"name":"education","slug":"education","permalink":"http://yoursite.com/tags/education/"}],"keywords":[{"name":"life","slug":"life","permalink":"http://yoursite.com/categories/life/"}]},{"title":"Hexo+Github","slug":"Hexo-Github","date":"2019-05-28T08:43:49.000Z","updated":"2019-05-29T03:37:25.000Z","comments":true,"path":"2019/05/28/Hexo-Github/","link":"","permalink":"http://yoursite.com/2019/05/28/Hexo-Github/","excerpt":"","text":"Hexo+GitHub æ­å»ºä¸ªäººç½‘ç«™æ•™ç¨‹ Hexoç®€ä»‹ Hexoæ˜¯ä¸€æ¬¾åŸºäºNode.jsçš„é™æ€åšå®¢æ¡†æ¶ï¼Œä¾èµ–å°‘æ˜“äºå®‰è£…ä½¿ç”¨ï¼Œå¯ä»¥æ–¹ä¾¿çš„ç”Ÿæˆé™æ€ç½‘é¡µæ‰˜ç®¡åœ¨GitHubå’ŒHerokuä¸Šï¼Œæ˜¯æ­å»ºåšå®¢çš„é¦–é€‰æ¡†æ¶ã€‚é¦–å…ˆç”µè„‘ä¸Šéœ€è¦å®‰è£…Node.jsä¾èµ–ã€‚ 12345$ npm install hexo-cli -g ##å®‰è£…hexoè„šæ‰‹æ¶$ hexo init blog ##åˆå§‹åŒ–hexo$ cd blog$ npm install$ hexo server","categories":[{"name":"utils","slug":"utils","permalink":"http://yoursite.com/categories/utils/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"},{"name":"github","slug":"github","permalink":"http://yoursite.com/tags/github/"}],"keywords":[{"name":"utils","slug":"utils","permalink":"http://yoursite.com/categories/utils/"}]},{"title":"Hello World","slug":"hello-world","date":"2018-08-25T18:17:52.000Z","updated":"2019-05-29T03:54:21.000Z","comments":true,"path":"2018/08/26/hello-world/","link":"","permalink":"http://yoursite.com/2018/08/26/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"utils","slug":"utils","permalink":"http://yoursite.com/categories/utils/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}],"keywords":[{"name":"utils","slug":"utils","permalink":"http://yoursite.com/categories/utils/"}]}]}