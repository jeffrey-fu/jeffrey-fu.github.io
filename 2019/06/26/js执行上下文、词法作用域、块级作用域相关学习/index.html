<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="jeffrey&#39;s blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->

    <meta name="keywords" content="JavaScript,编译,作用域" />


    <meta name="description" content="JavaScript引擎JavaScript引擎的一个流行示例是Google的V8引擎。例如，在Chrome和Node.js中使用V8引擎，下面是一个非常简化的视图：

浏览器中的JavaScr..." />



<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />

    <!--Title-->


<title>js执行上下文、词法作用域、块级作用域相关学习 | jeffrey&#39;s blog</title>


    <link rel="alternate" href="/atom.xml" title="jeffrey&#39;s blog" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    





    

</head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(/img/banner.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='Jeffrey Fu'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">jeffrey&#39;s blog</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/font-end/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back-end/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/utils/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/life/"><i class="fa "></i>生活</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="js执行上下文、词法作用域、块级作用域相关学习">
            
	            js执行上下文、词法作用域、块级作用域相关学习
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/font-end/">font-end</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/JavaScript/">JavaScript</a> <a class="tag-link" href="/tags/作用域/">作用域</a> <a class="tag-link" href="/tags/编译/">编译</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/06/26</span>
        </span>
        
    
</div>
            
            
    </div>
    
    <div class="post-body post-content">
        <h2 id="JavaScript引擎"><a href="#JavaScript引擎" class="headerlink" title="JavaScript引擎"></a>JavaScript引擎</h2><p>JavaScript引擎的一个流行示例是Google的V8引擎。例如，在Chrome和Node.js中使用V8引擎，下面是一个非常简化的视图：</p>
<img src="/2019/06/26/js执行上下文、词法作用域、块级作用域相关学习/call_stack.png" title="执行栈">
<blockquote><p>浏览器中的JavaScript解释器是作为一个单线程实现的，这实际上意味着，在浏览器中，一次只能发生一件事，其他操作或事件将排队在所谓的执行堆栈中。</p>
<footer><strong>lvwxx</strong><cite><a href="https://github.com/lvwxx/blog/issues/2" target="_blank" rel="noopener">JavaScript中的执行上下文和堆栈是什么</a></cite></footer></blockquote>
<h2 id="词法作用域"><a href="#词法作用域" class="headerlink" title="词法作用域"></a>词法作用域</h2><img src="/2019/06/26/js执行上下文、词法作用域、块级作用域相关学习/词法作用域.jpg" title="词法作用域">
<h2 id="函数作用域和块级作用域"><a href="#函数作用域和块级作用域" class="headerlink" title="函数作用域和块级作用域"></a>函数作用域和块级作用域</h2><img src="/2019/06/26/js执行上下文、词法作用域、块级作用域相关学习/函数作用域和块级作用域.jpg" title="函数作用域和块级作用域">
<h3 id="块级作用域与函数声明"><a href="#块级作用域与函数声明" class="headerlink" title="块级作用域与函数声明"></a>块级作用域与函数声明</h3><blockquote><ul>
<li>ES5 只有全局作用域和函数作用域，没有块级作用域。</li>
<li>ES5 规定，函数只能在顶层作用域和函数作用域之中声明，不能在块级作用域声明。但是，浏览器没有遵守这个规定，为了兼容以前的旧代码，还是支持在块级作用域之中声明函数。</li>
<li>ES6 引入了块级作用域，明确允许在块级作用域之中声明函数。ES6 规定，块级作用域之中，函数声明语句的行为类似于let，在块级作用域之外不可引用。</li>
<li>为了减轻因此产生的不兼容问题，ES6 在附录 B里面规定，浏览器的实现可以不遵守上面的规定，有自己的行为方式。<ul>
<li>允许在块级作用域内声明函数。</li>
<li>函数声明类似于var，即会提升到全局作用域或函数作用域的头部。</li>
<li>同时，函数声明还会提升到所在的块级作用域的头部。</li>
</ul>
</li>
</ul>
<footer><strong>阮一峰</strong><cite><a href="http://es6.ruanyifeng.com/#docs/let#%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E" target="_blank" rel="noopener">块级作用域</a></cite></footer></blockquote>
<blockquote>
<p>感受下<code>let</code>和<code>var</code>的区别</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aa = <span class="string">'bb'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(aa); </span><br><span class="line">  &#123; <span class="comment">// 在块级作用域内var声明变量</span></span><br><span class="line">    <span class="keyword">var</span> aa = <span class="string">'aa'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aa = <span class="string">'bb'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(aa);</span><br><span class="line">  &#123; <span class="comment">// 在块级作用域内let声明变量</span></span><br><span class="line">    <span class="keyword">let</span> aa = <span class="string">'aa'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn(); <span class="comment">// 'bb'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bs</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  bs();</span><br><span class="line">  &#123; <span class="comment">// 在块级作用域内声明函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bs</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn(); <span class="comment">// TypeError: bs is not a function</span></span><br></pre></td></tr></table></figure>
<h2 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h2><h3 id="暂时性死区"><a href="#暂时性死区" class="headerlink" title="暂时性死区"></a>暂时性死区</h3><blockquote><p>使用let/const声明的变量，从一开始就形成了封闭作用域，在声明变量之前是无法使用这个变量的，这个特点也是为了弥补var的缺陷（var声明的变量有变量提升）</p>
<footer><strong>yeyan1996</strong><cite><a href="https://juejin.im/post/5c6234f16fb9a049a81fcca5" target="_blank" rel="noopener">近一万字的ES6语法知识点补充</a></cite></footer></blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(aa); <span class="comment">// ReferenceError: Cannot access 'aa' before initialization）</span></span><br><span class="line"><span class="keyword">let</span> aa;</span><br></pre></td></tr></table></figure>
<blockquote><p>剖析暂时性死区的原理，其实let/const同样也有提升的作用，但是和var的区别在于：</p>
<ul>
<li>var在创建时就被初始化，并且赋值为undefined</li>
<li>let/const在进入块级作用域后，会因为提升的原因先创建，但不会被初始化，直到声明语句执行的时候才被初始化，初始化的时候如果使用let声明的变量没有赋值，则会默认赋值为undefined，而const必须在初始化的时候赋值。而创建到初始化之间的代码片段就形成了暂时性死区</li>
</ul>
<footer><strong>yeyan1996</strong><cite><a href="https://juejin.im/post/5c6234f16fb9a049a81fcca5" target="_blank" rel="noopener">近一万字的ES6语法知识点补充</a></cite></footer></blockquote>
<h3 id="ES6-Class-不存在变量提升"><a href="#ES6-Class-不存在变量提升" class="headerlink" title="ES6 Class 不存在变量提升"></a>ES6 <code>Class</code> 不存在变量提升</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Test); <span class="comment">// ReferenceError: Cannot access 'Test' before initialization</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="解释器如何评估JS代码（evaluate）"><a href="#解释器如何评估JS代码（evaluate）" class="headerlink" title="解释器如何评估JS代码（evaluate）"></a>解释器如何评估JS代码（evaluate）</h2><blockquote><ol>
<li>扫描被调用函数中的代码</li>
<li>在代码执行前，创建执行上文</li>
<li>进入创建阶段<ul>
<li>初始化作用域链</li>
<li>创建变量对象</li>
<li>创建arguments对象，检查参数上下文，初始化名称和值，并创建引用副本</li>
<li>扫描上下文中函数的声明<ul>
<li>对于找到的每个函数，在变量对象中创建一个属性，该属性是确切的函数名，该函数在内存中有一个指向该函数的引用指针</li>
<li>如果函数名已经存在，指针将会被覆盖</li>
</ul>
</li>
<li>扫描变量的声明<ul>
<li>对于找到的每个变量，在变量对象中创建一个属性，该属性是确切的变量名，该变量的值是undefined</li>
<li>如果变量名已经存在，将不会做任何处理继续执行</li>
</ul>
</li>
<li>决定this的值</li>
</ul>
</li>
<li>代码执行阶段<ul>
<li>变量赋值，按顺序执行代码</li>
</ul>
</li>
</ol>
<footer><strong>lvwxx</strong><cite><a href="https://github.com/lvwxx/blog/issues/2" target="_blank" rel="noopener">JavaScript中的执行上下文和堆栈是什么</a></cite></footer></blockquote>
<p>结合自身的感悟如下：</p>
<ul>
<li><p>知道了js代码<strong>执行前</strong>有预编译这么一回事，也就能掌握变量提升，解释器根据<code>var</code>, <code>function</code>等关键字进行预编译，<code>function</code>是一等公民</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">// foo() &#123; return 'hello'; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'world'</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'hello'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="string">'hello'</span>;</span><br><span class="line"></span><br><span class="line">&#125;());​</span><br></pre></td></tr></table></figure>
</li>
<li><p>词法作用域决定了函数执行上下文作用域，跟函数在哪调用没有关系（<code>this</code>在任何情况下都不指向函数的词法作用域，<code>this</code>是在函数运行时，创建上下文的时候确定的）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> myOtherVar = <span class="string">"inside A"</span>;</span><br><span class="line">  b();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> myVar = <span class="string">"inside B"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"myOtherVar:"</span>, myOtherVar); <span class="comment">// 'global otherVar'</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"myVar:"</span>, myVar); <span class="comment">// 'inside B'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  c();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myOtherVar = <span class="string">"global otherVar"</span>;</span><br><span class="line"><span class="keyword">var</span> myVar = <span class="string">"global myVar"</span>;</span><br><span class="line">a();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="执行上下文"><a href="#执行上下文" class="headerlink" title="执行上下文"></a>执行上下文</h2><blockquote><p>执行上下文：当前代码正在执行的环境（作用域），一般有以下三种情况：</p>
<ul>
<li>全局代码 – 代码首次开始执行的默认环境</li>
<li>函数代码 – 每当进入一个函数内部</li>
<li>Eval代码 – eval内部代码执行时</li>
</ul>
<footer><strong>lvwxx</strong><cite><a href="https://github.com/lvwxx/blog/issues/2" target="_blank" rel="noopener">JavaScript中的执行上下文和堆栈是什么</a></cite></footer></blockquote>
<img src="/2019/06/26/js执行上下文、词法作用域、块级作用域相关学习/execution_context.jpg" title="execution_context">
<blockquote><ul>
<li><p>Nothing special is going on here, we have 1 <code>global context</code> represented by the purple border and 3 different <code>function contexts</code> represented by the green, blue and orange borders. There can only ever be 1 <code>global context</code>, which can be accessed from any other context in your program.</p>
</li>
<li><p>You can have any number of <code>function contexts</code>, and each function call creates a new context, which creates a private scope where anything declared inside of the function can not be directly accessed from outside the current function scope. In the example above, a function can access a variable declared outside of its current context, but an outside context can not access the variables / functions declared inside.（理解为作用域链）</p>
</li>
</ul>
<footer><strong>David Shariff</strong><cite><a href="http://davidshariff.com/blog/what-is-the-execution-context-in-javascript/" target="_blank" rel="noopener">what-is-the-execution-context-in-javascript</a></cite></footer></blockquote>
<blockquote><p>现在我们知道每当有函数被调用时，都会创建一个新的执行上下文。在js内部，每个执行上文创建都要经历下面2个阶段：</p>
<ol>
<li>创建阶段（函数被调用，但还没有执行内部代码）<ul>
<li>创建作用域链</li>
<li>创建变量和参数</li>
<li>决定this指向</li>
</ul>
</li>
<li>代码执行阶段<ul>
<li>变量赋值，执行代码</li>
</ul>
</li>
</ol>
<footer><strong>lvwxx</strong><cite><a href="https://github.com/lvwxx/blog/issues/2" target="_blank" rel="noopener">JavaScript中的执行上下文和堆栈是什么</a></cite></footer></blockquote>
<h2 id="this-全面解析"><a href="#this-全面解析" class="headerlink" title="this 全面解析"></a>this 全面解析</h2><img src="/2019/06/26/js执行上下文、词法作用域、块级作用域相关学习/this.jpg" title="this">
<blockquote>
<p><em>推荐阅读：<a href="https://juejin.im/user/5c6256596fb9a049bd42c770" target="_blank" rel="noopener">刘小夕</a> - <a href="https://juejin.im/post/5c96d0c751882511c832ff7b" target="_blank" rel="noopener">嗨，你真的懂this吗？</a></em></p>
</blockquote>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><img src="/2019/06/26/js执行上下文、词法作用域、块级作用域相关学习/闭包.jpg" title="闭包">
<h2 id="参考文章："><a href="#参考文章：" class="headerlink" title="参考文章："></a>参考文章：</h2><ul>
<li><a href="https://github.com/lvwxx/blog/issues/2" target="_blank" rel="noopener">JavaScript中的执行上下文和堆栈是什么</a></li>
<li><a href="https://github.com/qq449245884/xiaozhi/issues/1" target="_blank" rel="noopener">JavaScript是如何工作的：引擎，运行时和调用堆栈的概述！</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/70458440" target="_blank" rel="noopener">JavaScript 究竟是怎样执行的？</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/37421835" target="_blank" rel="noopener">精读《你不知道的 javascript（上卷）》</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/38287143" target="_blank" rel="noopener">精读《你不知道的 javascript（中卷）》</a></li>
<li><a href="http://davidshariff.com/blog/what-is-the-execution-context-in-javascript/" target="_blank" rel="noopener">What is the Execution Context & Stack in JavaScript?</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/28921273" target="_blank" rel="noopener">你不可不知道的 JavaScript 作用域和闭包</a></li>
<li><a href="https://segmentfault.com/q/1010000016823953" target="_blank" rel="noopener">JS函数作用域以及变量提升问题</a></li>
<li><a href="http://es6.ruanyifeng.com/#docs/let#%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F" target="_blank" rel="noopener">块级作用域（阮一峰·ECMAScript 6 入门）</a></li>
</ul>

    </div>
    
        <div class="reward" ontouchstart>
    <div class="reward-wrap">赏
        <div class="reward-box">
            
            
                <span class="reward-type">
                    <img class="wechat" src="/img/reward-wepay.jpg"><b>微信打赏</b>
                </span>
            
        </div>
    </div>
    <p class="reward-tip">赞赏是不耍流氓的鼓励</p>
</div>


    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">jeffrey-fu</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
    
        <a href="/2019/06/20/js原型、原型链、继承相关学习心得/" class="next-post btn btn-default" title='js原型、原型链、继承相关学习心得'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">js原型、原型链、继承相关学习心得</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: 'CkVPLog3biIfwXHlRlPDFBii-gzGzoHsz',
            appKey: 'EBqROUrgNrg79c7JMnlpBv4a',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript引擎"><span class="toc-text">JavaScript引擎</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#词法作用域"><span class="toc-text">词法作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数作用域和块级作用域"><span class="toc-text">函数作用域和块级作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#块级作用域与函数声明"><span class="toc-text">块级作用域与函数声明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量提升"><span class="toc-text">变量提升</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#暂时性死区"><span class="toc-text">暂时性死区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6-Class-不存在变量提升"><span class="toc-text">ES6 Class 不存在变量提升</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解释器如何评估JS代码（evaluate）"><span class="toc-text">解释器如何评估JS代码（evaluate）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#执行上下文"><span class="toc-text">执行上下文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this-全面解析"><span class="toc-text">this 全面解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#闭包"><span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文章："><span class="toc-text">参考文章：</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>




    <script src="/assets/tagcanvas.min.js?rev=2.9"></script>
    <script>
        var tagOption = {
            textColour: '#444', // 字体颜色
            outlineMethod: 'block', // 选中模式
            outlineColour: '#FFDAB9', // 选中模式的颜色
            interval: 50 || 30, // 动画帧之间的时间间隔，值越大，转动幅度越大
            textHeight: 13,
            outlineRadius: 3,
            freezeActive: true || '', // 选中的标签是否继续滚动
            frontSelect: true || '', // 不选标签云后部的标签
            initial: [0.1, -0.1],
            depth: 0.5,
            decel: 0.95,
            maxSpeed: 0.03,
            reverse: true || '', // 是否反向触发
            fadeIn: 500, // 进入动画时间
            wheelZoom: false || '' // 是否启用鼠标滚轮
        }
        TagCanvas.Start('tag-cloud-3d','',tagOption);
    </script>




<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>